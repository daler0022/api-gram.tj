{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { LMap, LTileLayer, LPolygon } from 'vue2-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-draw';\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport ToolBarMap from './ToolBarMap.vue';\nimport axios from 'axios'; // import FormDistrict from './FormDistrict.vue'\n// import FormCity from './FormCity.vue'\n// import FormRoute from './FormRoute.vue'\n\nimport FormHome from './FormHome.vue';\nimport FormsPanel from './FormsPanel.vue';\nexport default {\n  name: 'custom-map',\n  components: {\n    LMap: LMap,\n    LTileLayer: LTileLayer,\n    ToolBarMap: ToolBarMap,\n    LPolygon: LPolygon,\n    // FormDistrict,\n    // FormCity,\n    // FormRoute,\n    FormHome: FormHome,\n    FormsPanel: FormsPanel\n  },\n  data: function data() {\n    return {\n      url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n      zoom: 13,\n      center: [40.288405, 69.644229],\n      bounds: null,\n      selectHome: false,\n      polygons: [{\n        latlngs: [{\n          \"lat\": 40.306478485641776,\n          \"lng\": 69.61772203445436\n        }, {\n          \"lat\": 40.305072041116624,\n          \"lng\": 69.61833357810976\n        }, {\n          \"lat\": 40.30510474946144,\n          \"lng\": 69.61885929107667\n        }, {\n          \"lat\": 40.303223993908006,\n          \"lng\": 69.61941719055177\n        }, {\n          \"lat\": 40.30247985442723,\n          \"lng\": 69.61521148681642\n        }, {\n          \"lat\": 40.3024880318287,\n          \"lng\": 69.61452484130861\n        }, {\n          \"lat\": 40.302635224886,\n          \"lng\": 69.61432099342348\n        }, {\n          \"lat\": 40.30264340226867,\n          \"lng\": 69.61393475532533\n        }, {\n          \"lat\": 40.30255345100485,\n          \"lng\": 69.61360216140748\n        }, {\n          \"lat\": 40.30227541906864,\n          \"lng\": 69.61325883865358\n        }, {\n          \"lat\": 40.3020955154413,\n          \"lng\": 69.6128296852112\n        }, {\n          \"lat\": 40.301686641779305,\n          \"lng\": 69.61027622222902\n        }, {\n          \"lat\": 40.30351837649473,\n          \"lng\": 69.60967540740968\n        }, {\n          \"lat\": 40.30365739004808,\n          \"lng\": 69.61028695106508\n        }, {\n          \"lat\": 40.30524375975017,\n          \"lng\": 69.61048007011415\n        }],\n        color: '#006400'\n      }, {\n        latlngs: [{\n          \"lat\": 40.29803522593666,\n          \"lng\": 69.61555480957033\n        }, {\n          \"lat\": 40.30441371799424,\n          \"lng\": 69.63319301605226\n        }, {\n          \"lat\": 40.30479456381175,\n          \"lng\": 69.63333785533906\n        }, {\n          \"lat\": 40.306773398295086,\n          \"lng\": 69.63207185268404\n        }, {\n          \"lat\": 40.30563459740631,\n          \"lng\": 69.62955594062807\n        }, {\n          \"lat\": 40.30446527341357,\n          \"lng\": 69.6267342567444\n        }, {\n          \"lat\": 40.30398281915431,\n          \"lng\": 69.62512493133546\n        }, {\n          \"lat\": 40.30217562935323,\n          \"lng\": 69.61540460586549\n        }, {\n          \"lat\": 40.30180764360517,\n          \"lng\": 69.61467504501344\n        }, {\n          \"lat\": 40.30134152544679,\n          \"lng\": 69.61448192596437\n        }, {\n          \"lat\": 40.30017212714016,\n          \"lng\": 69.61467504501344\n        }],\n        color: '#FF6347'\n      }, // {\n      //   latlngs: [{'lng': 69.642572, 'lat': 40.330437}, {'lng': 69.647108, 'lat': 40.331909}, {'lng': 69.672847, 'lat': 40.326438}, {'lng': 69.676039, 'lat': 40.326647}, {'lng': 69.677863, 'lat': 40.327158}, {'lng': 69.678109, 'lat': 40.325309}, {'lng': 69.677353, 'lat': 40.320308}, {'lng': 69.675486, 'lat': 40.313853}, {'lng': 69.673115, 'lat': 40.31}, {'lng': 69.669982, 'lat': 40.309051}, {'lng': 69.653417, 'lat': 40.302481}, {'lng': 69.650037, 'lat': 40.299903}, {'lng': 69.649458, 'lat': 40.29744}, {'lng': 69.648986, 'lat': 40.295362}, {'lng': 69.647784, 'lat': 40.294273}, {'lng': 69.646508, 'lat': 40.293594}, {'lng': 69.645435, 'lat': 40.29357}, {'lng': 69.644512, 'lat': 40.293635}, {'lng': 69.642946, 'lat': 40.293815}, {'lng': 69.642096, 'lat': 40.29392}, {'lng': 69.642121, 'lat': 40.292653}, {'lng': 69.642097, 'lat': 40.291699}, {'lng': 69.642479, 'lat': 40.291185}, {'lng': 69.642408, 'lat': 40.290849}, {'lng': 69.643241, 'lat': 40.290184}, {'lng': 69.644246, 'lat': 40.290254}, {'lng': 69.644513, 'lat': 40.288357}, {'lng': 69.643836, 'lat': 40.288279}, {'lng': 69.64378, 'lat': 40.287937}, {'lng': 69.644048, 'lat': 40.28746}, {'lng': 69.644602, 'lat': 40.287171}, {'lng': 69.644714, 'lat': 40.286979}, {'lng': 69.645897, 'lat': 40.286397}, {'lng': 69.646078, 'lat': 40.285894}, {'lng': 69.644595, 'lat': 40.285469}, {'lng': 69.643537, 'lat': 40.282976}, {'lng': 69.645105, 'lat': 40.28304}, {'lng': 69.645671, 'lat': 40.281323}, {'lng': 69.645987, 'lat': 40.281335}, {'lng': 69.646091, 'lat': 40.280095}, {'lng': 69.6446366608143, 'lat': 40.2797333683553}, {'lng': 69.6446688473225, 'lat': 40.2787387648843}, {'lng': 69.6448928117752, 'lat': 40.2781173849808}, {'lng': 69.64552, 'lat': 40.278334}, {'lng': 69.646064, 'lat': 40.277436}, {'lng': 69.646062, 'lat': 40.277411}, {'lng': 69.646004, 'lat': 40.276989}, {'lng': 69.646131, 'lat': 40.27667}, {'lng': 69.646708, 'lat': 40.276328}, {'lng': 69.647288, 'lat': 40.276095}, {'lng': 69.647784, 'lat': 40.275646}, {'lng': 69.647864, 'lat': 40.275395}, {'lng': 69.648242, 'lat': 40.274935}, {'lng': 69.648142, 'lat': 40.274519}, {'lng': 69.647825, 'lat': 40.274083}, {'lng': 69.647818, 'lat': 40.273533}, {'lng': 69.64798, 'lat': 40.272957}, {'lng': 69.647912, 'lat': 40.272437}, {'lng': 69.647885, 'lat': 40.271879}, {'lng': 69.6472531557083, 'lat': 40.2719434093965}, {'lng': 69.6477144956589, 'lat': 40.270612070952}, {'lng': 69.6486854553223, 'lat': 40.2706449438242}, {'lng': 69.6489161252976, 'lat': 40.2704025060131}, {'lng': 69.6490824222565, 'lat': 40.2685077306955}, {'lng': 69.6495813131333, 'lat': 40.2684586125393}, {'lng': 69.6498656272888, 'lat': 40.2684258670821}, {'lng': 69.6500641107559, 'lat': 40.2686223395878}, {'lng': 69.651094, 'lat': 40.268373}, {'lng': 69.651169, 'lat': 40.267734}, {'lng': 69.6518347298242, 'lat': 40.2674103581468}, {'lng': 69.652805, 'lat': 40.267083}, {'lng': 69.6529560239454, 'lat': 40.2671768854819}, {'lng': 69.6531853031213, 'lat': 40.267447077232}, {'lng': 69.6541740770855, 'lat': 40.2669675634774}, {'lng': 69.6541750317881, 'lat': 40.2669663700992}, {'lng': 69.653725, 'lat': 40.266559}, {'lng': 69.6555291023961, 'lat': 40.2655110915723}, {'lng': 69.6560819402145, 'lat': 40.2652876428988}, {'lng': 69.6576388536272, 'lat': 40.2644698399672}, {'lng': 69.6574026346207, 'lat': 40.264041925867}, {'lng': 69.6590280532837, 'lat': 40.2634115318701}, {'lng': 69.6594572067261, 'lat': 40.2643039060599}, {'lng': 69.6602243185043, 'lat': 40.2639559633952}, {'lng': 69.6599078178406, 'lat': 40.2633296620888}, {'lng': 69.6596074104309, 'lat': 40.2631822962328}, {'lng': 69.659269452095, 'lat': 40.2629162181799}, {'lng': 69.6581266638428, 'lat': 40.2631374578647}, {'lng': 69.657336, 'lat': 40.263207}, {'lng': 69.656393, 'lat': 40.263044}, {'lng': 69.654917, 'lat': 40.262661}, {'lng': 69.6540679330455, 'lat': 40.262668014421}, {'lng': 69.653613, 'lat': 40.262766}, {'lng': 69.6522686029055, 'lat': 40.2630640024625}, {'lng': 69.650264, 'lat': 40.263518}, {'lng': 69.649213, 'lat': 40.263763}, {'lng': 69.648941, 'lat': 40.263211}, {'lng': 69.644803, 'lat': 40.263035}, {'lng': 69.643611,'lat': 40.26293}, {'lng': 69.642773, 'lat': 40.262719}, {'lng': 69.6428097651031, 'lat': 40.2626951523656}, {'lng': 69.642111, 'lat': 40.262439}, {'lng': 69.642109, 'lat': 40.262436}, {'lng': 69.6421104488091, 'lat': 40.2624303846418}, {'lng': 69.643759, 'lat': 40.26069}, {'lng': 69.64379, 'lat': 40.260643}, {'lng': 69.643725, 'lat': 40.260631}, {'lng': 69.64372, 'lat': 40.260634}, {'lng': 69.638263, 'lat': 40.261955}, {'lng': 69.636914, 'lat': 40.264658}, {'lng': 69.638177, 'lat': 40.265638}, {'lng': 69.638179, 'lat': 40.265644}, {'lng': 69.637439, 'lat': 40.267765}, {'lng': 69.63648, 'lat': 40.268972}, {'lng': 69.636472, 'lat': 40.268971}, {'lng': 69.635435, 'lat': 40.268533}, {'lng': 69.635429, 'lat': 40.268558}, {'lng': 69.635178, 'lat': 40.26924}, {'lng': 69.632871, 'lat': 40.268581}, {'lng': 69.632351, 'lat': 40.269703}, {'lng': 69.626627, 'lat': 40.26859}, {'lng': 69.626241, 'lat': 40.268843}, {'lng': 69.625951, 'lat': 40.268811}, {'lng': 69.625736, 'lat': 40.269277}, {'lng': 69.622121, 'lat': 40.268344}, {'lng': 69.62181, 'lat': 40.268508}, {'lng': 69.620812, 'lat': 40.268835}, {'lng': 69.620823, 'lat': 40.268074}, {'lng': 69.619975, 'lat': 40.267926}, {'lng': 69.619477, 'lat': 40.268626}, {'lng': 69.618816, 'lat': 40.269542}, {'lng': 69.617897, 'lat': 40.269288}, {'lng': 69.617381, 'lat': 40.269301}, {'lng': 69.617273, 'lat': 40.269541}, {'lng': 69.617621, 'lat': 40.269697}, {'lng': 69.617453, 'lat': 40.269935}, {'lng': 69.617635, 'lat': 40.270074}, {'lng': 69.617363, 'lat': 40.270322}, {'lng': 69.617725, 'lat': 40.270598}, {'lng': 69.616563, 'lat': 40.271569}, {'lng': 69.616307, 'lat': 40.271563}, {'lng': 69.615024, 'lat': 40.272827}, {'lng': 69.614487, 'lat': 40.27354}, {'lng': 69.613999, 'lat': 40.273794}, {'lng': 69.613043, 'lat': 40.273388}, {'lng': 69.61262, 'lat': 40.273103}, {'lng': 69.6122, 'lat': 40.272679}, {'lng': 69.611861, 'lat': 40.271723}, {'lng': 69.610714, 'lat': 40.271376}, {'lng': 69.610405, 'lat': 40.271966}, {'lng': 69.610057, 'lat': 40.272666}, {'lng': 69.606535, 'lat': 40.272646}, {'lng': 69.606319, 'lat': 40.27282}, {'lng': 69.606173, 'lat': 40.272754}, {'lng': 69.60521, 'lat': 40.27158}, {'lng': 69.604809, 'lat': 40.271749}, {'lng': 69.60194, 'lat': 40.268447}, {'lng': 69.601157, 'lat': 40.267071}, {'lng': 69.600856, 'lat': 40.266559}, {'lng': 69.595559, 'lat': 40.267083}, {'lng': 69.594109, 'lat': 40.26936}, {'lng': 69.594226, 'lat': 40.270014}, {'lng': 69.595039, 'lat': 40.271383}, {'lng': 69.594521, 'lat': 40.272343}, {'lng': 69.590085, 'lat': 40.271684}, {'lng': 69.587554, 'lat': 40.269323}, {'lng': 69.584325, 'lat': 40.270891}, {'lng': 69.577883, 'lat': 40.266613}, {'lng': 69.573332, 'lat': 40.269736}, {'lng': 69.569879, 'lat': 40.267695}, {'lng': 69.551516, 'lat': 40.26546}, {'lng': 69.545608, 'lat': 40.26632}, {'lng': 69.545217, 'lat': 40.274484}, {'lng': 69.546826, 'lat': 40.276153}, {'lng': 69.550463, 'lat': 40.27619}, {'lng': 69.559507, 'lat': 40.282341}, {'lng': 69.567103, 'lat': 40.296614}, {'lng': 69.589376, 'lat': 40.305287}, {'lng': 69.629374, 'lat': 40.319784}, {'lng': 69.63543, 'lat': 40.325661}, {'lng': '69.642572', 'lat': '40.330437'}],\n      //   color: '#00ff00'\n      // },\n      {\n        latlngs: [{\n          \"lat\": 69.649112,\n          \"lng\": 40.293196\n        }, {\n          \"lat\": 69.650024,\n          \"lng\": 40.292559\n        }, {\n          \"lat\": 69.650849,\n          \"lng\": 40.292727\n        }, {\n          \"lat\": 69.651016,\n          \"lng\": 40.292642\n        }, {\n          \"lat\": 69.651444,\n          \"lng\": 40.291637\n        }, {\n          \"lat\": 69.651001,\n          \"lng\": 40.290804\n        }, {\n          \"lat\": 69.651958,\n          \"lng\": 40.289494\n        }, {\n          \"lat\": 69.652384,\n          \"lng\": 40.287588\n        }, {\n          \"lat\": 69.651794,\n          \"lng\": 40.286305\n        }, {\n          \"lat\": 69.651956,\n          \"lng\": 40.285346\n        }, {\n          \"lat\": 69.651457,\n          \"lng\": 40.283197\n        }, {\n          \"lat\": 69.6517,\n          \"lng\": 40.282378\n        }, {\n          \"lat\": 69.651818,\n          \"lng\": 40.281703\n        }, {\n          \"lat\": 69.651813,\n          \"lng\": 40.281375\n        }, {\n          \"lat\": 69.651284,\n          \"lng\": 40.281371\n        }, {\n          \"lat\": 69.6509362426021,\n          \"lng\": 40.2820820610546\n        }, {\n          \"lat\": 69.650539,\n          \"lng\": 40.28236\n        }, {\n          \"lat\": 69.648972,\n          \"lng\": 40.282328\n        }, {\n          \"lat\": 69.648285,\n          \"lng\": 40.281943\n        }, {\n          \"lat\": 69.647556,\n          \"lng\": 40.281747\n        }, {\n          \"lat\": 69.647931,\n          \"lng\": 40.280796\n        }, {\n          \"lat\": 69.6483210122564,\n          \"lng\": 40.2792799229445\n        }, {\n          \"lat\": 69.6471878591896,\n          \"lng\": 40.2788872235445\n        }, {\n          \"lat\": 69.64713,\n          \"lng\": 40.278871\n        }, {\n          \"lat\": 69.646894,\n          \"lng\": 40.280303\n        }, {\n          \"lat\": 69.646111,\n          \"lng\": 40.280115\n        }, {\n          \"lat\": 69.645993,\n          \"lng\": 40.281351\n        }, {\n          \"lat\": 69.645703,\n          \"lng\": 40.281343\n        }, {\n          \"lat\": 69.645123,\n          \"lng\": 40.283062\n        }, {\n          \"lat\": 69.643579,\n          \"lng\": 40.282996\n        }, {\n          \"lat\": 69.644608,\n          \"lng\": 40.285419\n        }, {\n          \"lat\": 69.646111,\n          \"lng\": 40.285885\n        }, {\n          \"lat\": 69.645923,\n          \"lng\": 40.286409\n        }, {\n          \"lat\": 69.644753,\n          \"lng\": 40.287006\n        }, {\n          \"lat\": 69.644641,\n          \"lng\": 40.287154\n        }, {\n          \"lat\": 69.644072,\n          \"lng\": 40.287477\n        }, {\n          \"lat\": 69.643831,\n          \"lng\": 40.287911\n        }, {\n          \"lat\": 69.643881,\n          \"lng\": 40.288233\n        }, {\n          \"lat\": 69.644544,\n          \"lng\": 40.288332\n        }, {\n          \"lat\": 69.644405,\n          \"lng\": 40.289552\n        }, {\n          \"lat\": 69.644276,\n          \"lng\": 40.290288\n        }, {\n          \"lat\": 69.643246,\n          \"lng\": 40.290223\n        }, {\n          \"lat\": 69.642452,\n          \"lng\": 40.290861\n        }, {\n          \"lat\": 69.642516,\n          \"lng\": 40.291201\n        }, {\n          \"lat\": 69.642128,\n          \"lng\": 40.29171\n        }, {\n          \"lat\": 69.642164,\n          \"lng\": 40.293846\n        }, {\n          \"lat\": 69.649112,\n          \"lng\": 40.293196\n        }],\n        color: '#fff'\n      }],\n      newAddress: {\n        lat: '',\n        lng: '',\n        house_number: '',\n        street: ''\n      },\n      maxZoom: 20\n    };\n  },\n  methods: {\n    zoomUpdated: function zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated: function centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated: function boundsUpdated(bounds) {\n      this.bounds = bounds;\n    },\n    zoomPlus: function zoomPlus() {\n      this.zoom++;\n    },\n    zoomMinus: function zoomMinus() {\n      this.zoom--;\n    },\n    addHome: function addHome() {\n      this.selectHome = !this.selectHome;\n    },\n    mapClick: function mapClick(e) {\n      var _this = this;\n\n      if (this.selectHome) {\n        axios.get(\"https://nominatim.openstreetmap.org/reverse?format=geojson&lat=\".concat(e.latlng.lat, \"&lon=\").concat(e.latlng.lng)).then(function (res) {\n          console.log('address', res);\n          _this.newAddress.lat = e.latlng.lat;\n          _this.newAddress.lng = e.latlng.lng;\n          _this.newAddress.street = res.data.features[0].properties.address.road;\n          _this.newAddress.house_number = res.data.features[0].properties.address.house_number; // this.latLng.address = res.data.features[0].properties.address\n\n          console.log(_this.newAddress);\n        });\n        this.markerLatLng = e.latlng;\n      } else {\n        console.log(\"no\");\n      }\n    },\n    editPolygon: function editPolygon() {\n      var map = this.$refs.map.mapObject;\n      var drawnItems = new window.L.FeatureGroup();\n      map.addLayer(drawnItems);\n      map.on('draw:created', function (e) {\n        var type = e.layerType,\n            layer = e.layer;\n\n        if (type === 'marker') {\n          layer.bindPopup('A popup!');\n        }\n\n        drawnItems.addLayer(layer);\n      });\n      var polygon_options = {\n        showArea: false,\n        shapeOptions: {\n          stroke: true,\n          color: '#6e83f0',\n          weight: 4,\n          opacity: 0.5,\n          fill: true,\n          fillColor: null,\n          //same as color by default\n          fillOpacity: 0.2,\n          clickable: true\n        }\n      };\n      var polygonDrawer = new window.L.Draw.Polygon(map, polygon_options);\n      polygonDrawer.enable(); // map.on('draw:edited', (e) => {\n      //     // Update db to save latest changes.\n      //     var layers = e.layers;\n      //     layers.eachLayer((layer) => {\n      //         const lattitude = JSON.stringify(layer.getLatLngs()[0]) \n      //         console.log(layer);\n      //         this.longitudeLattitude = lattitude\n      //     });\n      // });\n      // let poly = L.polygon([{\"lat\":50.090442692166135,\"lng\":6.8115234375},{\"lat\":49.165903234689395,\"lng\":8.964843750000002},{\"lat\":49.9917194319911,\"lng\":9.492187500000002}], {color: 'red'});\n      // map.addLayer(poly)\n      // poly.addTo(map)\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["LMap","LTileLayer","LPolygon","name","components","ToolBarMap","FormHome","FormsPanel","data","url","zoom","center","bounds","selectHome","polygons","latlngs","color","newAddress","lat","lng","house_number","street","maxZoom","methods","zoomUpdated","centerUpdated","boundsUpdated","zoomPlus","zoomMinus","addHome","mapClick","e","axios","get","then","console","editPolygon","map","layer","drawnItems","showArea","shapeOptions","stroke","weight","opacity","fill","fillColor","fillOpacity","clickable","polygonDrawer"],"sourceRoot":"src/components/Map","sources":["CustomMap.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<l-map\n      id=\"map\"\n      style=\"height: 100vh;\"\n      ref=\"map\"\n      :zoom=\"zoom\"\n      :center=\"center\"\n      :maxZoom=\"maxZoom\"\n      @click=\"mapClick\"\n      @update:zoom=\"zoomUpdated\"\n      @update:center=\"centerUpdated\"\n      @update:bounds=\"boundsUpdated\"\n      :options=\"{ zoomControl: false}\"\n      >\n      <l-tile-layer :url=\"url\" :options=\"{ maxNativeZoom: 18, maxZoom: 20 }\" />\n   <l-polygon v-for=\"(polygon,index) in polygons\" :lat-lngs=\"polygon.latlngs\" :color=\"polygon.color\" :fillColor=\"polygon.color\" fillOpacity=\"0.1\" :key=\"'polygon'+index\"></l-polygon>\n  </l-map>\n  <tool-bar-map class=\"flex\" @zoomPlus=\"zoomPlus\" @zoomMinus=\"zoomMinus\" @addHome=\"addHome\" @editPolygon=\"editPolygon\" />\n  <forms-panel :panel=\"selectHome\" @addHome=\"addHome\">\n    <form-home :newAddress=\"newAddress\" />\n  </forms-panel>\n  <!-- <form-district /> -->\n  <!-- <form-city /> -->\n  <!-- <form-route /> -->\n  \n\t</div>\n</template>\n\n<script>\nimport {\n  LMap, LTileLayer, LPolygon\n} from 'vue2-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport 'leaflet-draw'\nimport 'leaflet-draw/dist/leaflet.draw.css'\nimport ToolBarMap from './ToolBarMap.vue'\nimport axios from 'axios'\n// import FormDistrict from './FormDistrict.vue'\n// import FormCity from './FormCity.vue'\n// import FormRoute from './FormRoute.vue'\nimport FormHome from './FormHome.vue'\nimport FormsPanel from './FormsPanel.vue'\n\nexport default {\n  name: 'custom-map',\n\tcomponents: {\n    LMap,\n    LTileLayer,\n    ToolBarMap,\n    LPolygon,\n    // FormDistrict,\n    // FormCity,\n    // FormRoute,\n    FormHome,\n    FormsPanel\n},\n\tdata(){\n    return {\n      url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n      zoom: 13,\n      center: [40.288405, 69.644229],\n      bounds: null,\n      selectHome: false,\n      polygons: [\n        {\n          latlngs: [{\"lat\": 40.306478485641776, \"lng\": 69.61772203445436}, {\"lat\": 40.305072041116624, \"lng\": 69.61833357810976}, {\"lat\": 40.30510474946144, \"lng\": 69.61885929107667}, {\"lat\": 40.303223993908006, \"lng\": 69.61941719055177}, {\"lat\": 40.30247985442723, \"lng\": 69.61521148681642}, {\"lat\": 40.3024880318287, \"lng\": 69.61452484130861}, {\"lat\": 40.302635224886, \"lng\": 69.61432099342348}, {\"lat\": 40.30264340226867, \"lng\": 69.61393475532533}, {\"lat\": 40.30255345100485, \"lng\": 69.61360216140748}, {\"lat\": 40.30227541906864, \"lng\": 69.61325883865358}, {\"lat\": 40.3020955154413, \"lng\": 69.6128296852112}, {\"lat\": 40.301686641779305, \"lng\": 69.61027622222902}, {\"lat\": 40.30351837649473, \"lng\": 69.60967540740968}, {\"lat\": 40.30365739004808, \"lng\": 69.61028695106508}, {\"lat\": 40.30524375975017, \"lng\": 69.61048007011415}],\n          color: '#006400'\n        },\n        {\n          latlngs: [{\"lat\": 40.29803522593666, \"lng\": 69.61555480957033}, {\"lat\": 40.30441371799424, \"lng\": 69.63319301605226}, {\"lat\": 40.30479456381175, \"lng\": 69.63333785533906}, {\"lat\": 40.306773398295086, \"lng\": 69.63207185268404}, {\"lat\": 40.30563459740631, \"lng\": 69.62955594062807}, {\"lat\": 40.30446527341357, \"lng\": 69.6267342567444}, {\"lat\": 40.30398281915431, \"lng\": 69.62512493133546}, {\"lat\": 40.30217562935323, \"lng\": 69.61540460586549}, {\"lat\": 40.30180764360517, \"lng\": 69.61467504501344}, {\"lat\": 40.30134152544679, \"lng\": 69.61448192596437}, {\"lat\": 40.30017212714016, \"lng\": 69.61467504501344}],\n          color: '#FF6347'\n        },\n        // {\n        //   latlngs: [{'lng': 69.642572, 'lat': 40.330437}, {'lng': 69.647108, 'lat': 40.331909}, {'lng': 69.672847, 'lat': 40.326438}, {'lng': 69.676039, 'lat': 40.326647}, {'lng': 69.677863, 'lat': 40.327158}, {'lng': 69.678109, 'lat': 40.325309}, {'lng': 69.677353, 'lat': 40.320308}, {'lng': 69.675486, 'lat': 40.313853}, {'lng': 69.673115, 'lat': 40.31}, {'lng': 69.669982, 'lat': 40.309051}, {'lng': 69.653417, 'lat': 40.302481}, {'lng': 69.650037, 'lat': 40.299903}, {'lng': 69.649458, 'lat': 40.29744}, {'lng': 69.648986, 'lat': 40.295362}, {'lng': 69.647784, 'lat': 40.294273}, {'lng': 69.646508, 'lat': 40.293594}, {'lng': 69.645435, 'lat': 40.29357}, {'lng': 69.644512, 'lat': 40.293635}, {'lng': 69.642946, 'lat': 40.293815}, {'lng': 69.642096, 'lat': 40.29392}, {'lng': 69.642121, 'lat': 40.292653}, {'lng': 69.642097, 'lat': 40.291699}, {'lng': 69.642479, 'lat': 40.291185}, {'lng': 69.642408, 'lat': 40.290849}, {'lng': 69.643241, 'lat': 40.290184}, {'lng': 69.644246, 'lat': 40.290254}, {'lng': 69.644513, 'lat': 40.288357}, {'lng': 69.643836, 'lat': 40.288279}, {'lng': 69.64378, 'lat': 40.287937}, {'lng': 69.644048, 'lat': 40.28746}, {'lng': 69.644602, 'lat': 40.287171}, {'lng': 69.644714, 'lat': 40.286979}, {'lng': 69.645897, 'lat': 40.286397}, {'lng': 69.646078, 'lat': 40.285894}, {'lng': 69.644595, 'lat': 40.285469}, {'lng': 69.643537, 'lat': 40.282976}, {'lng': 69.645105, 'lat': 40.28304}, {'lng': 69.645671, 'lat': 40.281323}, {'lng': 69.645987, 'lat': 40.281335}, {'lng': 69.646091, 'lat': 40.280095}, {'lng': 69.6446366608143, 'lat': 40.2797333683553}, {'lng': 69.6446688473225, 'lat': 40.2787387648843}, {'lng': 69.6448928117752, 'lat': 40.2781173849808}, {'lng': 69.64552, 'lat': 40.278334}, {'lng': 69.646064, 'lat': 40.277436}, {'lng': 69.646062, 'lat': 40.277411}, {'lng': 69.646004, 'lat': 40.276989}, {'lng': 69.646131, 'lat': 40.27667}, {'lng': 69.646708, 'lat': 40.276328}, {'lng': 69.647288, 'lat': 40.276095}, {'lng': 69.647784, 'lat': 40.275646}, {'lng': 69.647864, 'lat': 40.275395}, {'lng': 69.648242, 'lat': 40.274935}, {'lng': 69.648142, 'lat': 40.274519}, {'lng': 69.647825, 'lat': 40.274083}, {'lng': 69.647818, 'lat': 40.273533}, {'lng': 69.64798, 'lat': 40.272957}, {'lng': 69.647912, 'lat': 40.272437}, {'lng': 69.647885, 'lat': 40.271879}, {'lng': 69.6472531557083, 'lat': 40.2719434093965}, {'lng': 69.6477144956589, 'lat': 40.270612070952}, {'lng': 69.6486854553223, 'lat': 40.2706449438242}, {'lng': 69.6489161252976, 'lat': 40.2704025060131}, {'lng': 69.6490824222565, 'lat': 40.2685077306955}, {'lng': 69.6495813131333, 'lat': 40.2684586125393}, {'lng': 69.6498656272888, 'lat': 40.2684258670821}, {'lng': 69.6500641107559, 'lat': 40.2686223395878}, {'lng': 69.651094, 'lat': 40.268373}, {'lng': 69.651169, 'lat': 40.267734}, {'lng': 69.6518347298242, 'lat': 40.2674103581468}, {'lng': 69.652805, 'lat': 40.267083}, {'lng': 69.6529560239454, 'lat': 40.2671768854819}, {'lng': 69.6531853031213, 'lat': 40.267447077232}, {'lng': 69.6541740770855, 'lat': 40.2669675634774}, {'lng': 69.6541750317881, 'lat': 40.2669663700992}, {'lng': 69.653725, 'lat': 40.266559}, {'lng': 69.6555291023961, 'lat': 40.2655110915723}, {'lng': 69.6560819402145, 'lat': 40.2652876428988}, {'lng': 69.6576388536272, 'lat': 40.2644698399672}, {'lng': 69.6574026346207, 'lat': 40.264041925867}, {'lng': 69.6590280532837, 'lat': 40.2634115318701}, {'lng': 69.6594572067261, 'lat': 40.2643039060599}, {'lng': 69.6602243185043, 'lat': 40.2639559633952}, {'lng': 69.6599078178406, 'lat': 40.2633296620888}, {'lng': 69.6596074104309, 'lat': 40.2631822962328}, {'lng': 69.659269452095, 'lat': 40.2629162181799}, {'lng': 69.6581266638428, 'lat': 40.2631374578647}, {'lng': 69.657336, 'lat': 40.263207}, {'lng': 69.656393, 'lat': 40.263044}, {'lng': 69.654917, 'lat': 40.262661}, {'lng': 69.6540679330455, 'lat': 40.262668014421}, {'lng': 69.653613, 'lat': 40.262766}, {'lng': 69.6522686029055, 'lat': 40.2630640024625}, {'lng': 69.650264, 'lat': 40.263518}, {'lng': 69.649213, 'lat': 40.263763}, {'lng': 69.648941, 'lat': 40.263211}, {'lng': 69.644803, 'lat': 40.263035}, {'lng': 69.643611,'lat': 40.26293}, {'lng': 69.642773, 'lat': 40.262719}, {'lng': 69.6428097651031, 'lat': 40.2626951523656}, {'lng': 69.642111, 'lat': 40.262439}, {'lng': 69.642109, 'lat': 40.262436}, {'lng': 69.6421104488091, 'lat': 40.2624303846418}, {'lng': 69.643759, 'lat': 40.26069}, {'lng': 69.64379, 'lat': 40.260643}, {'lng': 69.643725, 'lat': 40.260631}, {'lng': 69.64372, 'lat': 40.260634}, {'lng': 69.638263, 'lat': 40.261955}, {'lng': 69.636914, 'lat': 40.264658}, {'lng': 69.638177, 'lat': 40.265638}, {'lng': 69.638179, 'lat': 40.265644}, {'lng': 69.637439, 'lat': 40.267765}, {'lng': 69.63648, 'lat': 40.268972}, {'lng': 69.636472, 'lat': 40.268971}, {'lng': 69.635435, 'lat': 40.268533}, {'lng': 69.635429, 'lat': 40.268558}, {'lng': 69.635178, 'lat': 40.26924}, {'lng': 69.632871, 'lat': 40.268581}, {'lng': 69.632351, 'lat': 40.269703}, {'lng': 69.626627, 'lat': 40.26859}, {'lng': 69.626241, 'lat': 40.268843}, {'lng': 69.625951, 'lat': 40.268811}, {'lng': 69.625736, 'lat': 40.269277}, {'lng': 69.622121, 'lat': 40.268344}, {'lng': 69.62181, 'lat': 40.268508}, {'lng': 69.620812, 'lat': 40.268835}, {'lng': 69.620823, 'lat': 40.268074}, {'lng': 69.619975, 'lat': 40.267926}, {'lng': 69.619477, 'lat': 40.268626}, {'lng': 69.618816, 'lat': 40.269542}, {'lng': 69.617897, 'lat': 40.269288}, {'lng': 69.617381, 'lat': 40.269301}, {'lng': 69.617273, 'lat': 40.269541}, {'lng': 69.617621, 'lat': 40.269697}, {'lng': 69.617453, 'lat': 40.269935}, {'lng': 69.617635, 'lat': 40.270074}, {'lng': 69.617363, 'lat': 40.270322}, {'lng': 69.617725, 'lat': 40.270598}, {'lng': 69.616563, 'lat': 40.271569}, {'lng': 69.616307, 'lat': 40.271563}, {'lng': 69.615024, 'lat': 40.272827}, {'lng': 69.614487, 'lat': 40.27354}, {'lng': 69.613999, 'lat': 40.273794}, {'lng': 69.613043, 'lat': 40.273388}, {'lng': 69.61262, 'lat': 40.273103}, {'lng': 69.6122, 'lat': 40.272679}, {'lng': 69.611861, 'lat': 40.271723}, {'lng': 69.610714, 'lat': 40.271376}, {'lng': 69.610405, 'lat': 40.271966}, {'lng': 69.610057, 'lat': 40.272666}, {'lng': 69.606535, 'lat': 40.272646}, {'lng': 69.606319, 'lat': 40.27282}, {'lng': 69.606173, 'lat': 40.272754}, {'lng': 69.60521, 'lat': 40.27158}, {'lng': 69.604809, 'lat': 40.271749}, {'lng': 69.60194, 'lat': 40.268447}, {'lng': 69.601157, 'lat': 40.267071}, {'lng': 69.600856, 'lat': 40.266559}, {'lng': 69.595559, 'lat': 40.267083}, {'lng': 69.594109, 'lat': 40.26936}, {'lng': 69.594226, 'lat': 40.270014}, {'lng': 69.595039, 'lat': 40.271383}, {'lng': 69.594521, 'lat': 40.272343}, {'lng': 69.590085, 'lat': 40.271684}, {'lng': 69.587554, 'lat': 40.269323}, {'lng': 69.584325, 'lat': 40.270891}, {'lng': 69.577883, 'lat': 40.266613}, {'lng': 69.573332, 'lat': 40.269736}, {'lng': 69.569879, 'lat': 40.267695}, {'lng': 69.551516, 'lat': 40.26546}, {'lng': 69.545608, 'lat': 40.26632}, {'lng': 69.545217, 'lat': 40.274484}, {'lng': 69.546826, 'lat': 40.276153}, {'lng': 69.550463, 'lat': 40.27619}, {'lng': 69.559507, 'lat': 40.282341}, {'lng': 69.567103, 'lat': 40.296614}, {'lng': 69.589376, 'lat': 40.305287}, {'lng': 69.629374, 'lat': 40.319784}, {'lng': 69.63543, 'lat': 40.325661}, {'lng': '69.642572', 'lat': '40.330437'}],\n        //   color: '#00ff00'\n        // },\n        {\n          latlngs: [{\"lat\":69.649112, \"lng\": 40.293196},{\"lat\":69.650024, \"lng\": 40.292559},{\"lat\":69.650849, \"lng\": 40.292727},{\"lat\":69.651016, \"lng\": 40.292642},{\"lat\":69.651444, \"lng\": 40.291637},{\"lat\":69.651001, \"lng\": 40.290804},{\"lat\":69.651958, \"lng\": 40.289494},{\"lat\":69.652384, \"lng\": 40.287588},{\"lat\":69.651794, \"lng\": 40.286305},{\"lat\":69.651956, \"lng\": 40.285346},{\"lat\":69.651457, \"lng\": 40.283197},{\"lat\":69.6517, \"lng\": 40.282378},{\"lat\":69.651818, \"lng\": 40.281703},{\"lat\":69.651813, \"lng\": 40.281375},{\"lat\":69.651284, \"lng\": 40.281371},{\"lat\":69.6509362426021, \"lng\": 40.2820820610546},{\"lat\":69.650539, \"lng\": 40.28236},{\"lat\":69.648972, \"lng\": 40.282328},{\"lat\":69.648285, \"lng\": 40.281943},{\"lat\":69.647556, \"lng\": 40.281747},{\"lat\":69.647931, \"lng\": 40.280796},{\"lat\":69.6483210122564, \"lng\": 40.2792799229445},{\"lat\":69.6471878591896, \"lng\": 40.2788872235445},{\"lat\":69.64713, \"lng\": 40.278871},{\"lat\":69.646894, \"lng\": 40.280303},{\"lat\":69.646111, \"lng\": 40.280115},{\"lat\":69.645993, \"lng\": 40.281351},{\"lat\":69.645703, \"lng\": 40.281343},{\"lat\":69.645123, \"lng\": 40.283062},{\"lat\":69.643579, \"lng\": 40.282996},{\"lat\":69.644608, \"lng\": 40.285419},{\"lat\":69.646111, \"lng\": 40.285885},{\"lat\":69.645923, \"lng\": 40.286409},{\"lat\":69.644753, \"lng\": 40.287006},{\"lat\":69.644641, \"lng\": 40.287154},{\"lat\":69.644072, \"lng\": 40.287477},{\"lat\":69.643831, \"lng\": 40.287911},{\"lat\":69.643881, \"lng\": 40.288233},{\"lat\":69.644544, \"lng\": 40.288332},{\"lat\":69.644405, \"lng\": 40.289552},{\"lat\":69.644276, \"lng\": 40.290288},{\"lat\":69.643246, \"lng\": 40.290223},{\"lat\":69.642452, \"lng\": 40.290861},{\"lat\":69.642516, \"lng\": 40.291201},{\"lat\":69.642128, \"lng\": 40.29171},{\"lat\":69.642164, \"lng\": 40.293846},{\"lat\":69.649112, \"lng\": 40.293196}],\n          color: '#fff'\n        }\n      ],\n      newAddress: {\n          lat: '',\n          lng: '',\n          house_number: '', \n          street: ''\n      },\n      maxZoom: 20,\n    }\n  },\n\tmethods: {\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n    },\n    zoomPlus() {\n      this.zoom++\n    },\n    zoomMinus() {\n      this.zoom--\n    },\n    addHome() {\n      this.selectHome = !this.selectHome \n    },\n    mapClick(e) {\n      if(this.selectHome) {\n        axios\n        .get(`https://nominatim.openstreetmap.org/reverse?format=geojson&lat=${e.latlng.lat}&lon=${e.latlng.lng}`)\n        .then(res => {\n          console.log('address',res);\n          this.newAddress.lat=e.latlng.lat\n          this.newAddress.lng=e.latlng.lng\n          this.newAddress.street=res.data.features[0].properties.address.road\n          this.newAddress.house_number=res.data.features[0].properties.address.house_number\n          // this.latLng.address = res.data.features[0].properties.address\n          console.log(this.newAddress);\n        })\n        this.markerLatLng=e.latlng\n      }\n      else {\n        console.log(\"no\");\n      }\n    },\n    editPolygon() {\n            const map = this.$refs.map.mapObject;\n            var drawnItems = new window.L.FeatureGroup()\n            map.addLayer(drawnItems)\n\n            map.on('draw:created', (e) => {\n                var type = e.layerType,\n                    layer = e.layer;\n                \n                if (type === 'marker') {\n                    layer.bindPopup('A popup!');\n                }\n                \n                drawnItems.addLayer(layer);\n            });\n            const polygon_options = {\n              showArea: false,\n              shapeOptions: {\n                stroke: true,\n                color: '#6e83f0',\n                weight: 4,\n                opacity: 0.5,\n                fill: true,\n                fillColor: null, //same as color by default\n                fillOpacity: 0.2,\n                clickable: true\n              }\n            }\n            var polygonDrawer = new window.L.Draw.Polygon(map, polygon_options);     \n            polygonDrawer.enable();\n            // map.on('draw:edited', (e) => {\n            //     // Update db to save latest changes.\n            //     var layers = e.layers;\n                \n            //     layers.eachLayer((layer) => {\n            //         const lattitude = JSON.stringify(layer.getLatLngs()[0]) \n            //         console.log(layer);\n            //         this.longitudeLattitude = lattitude\n            //     });\n            // });\n            // let poly = L.polygon([{\"lat\":50.090442692166135,\"lng\":6.8115234375},{\"lat\":49.165903234689395,\"lng\":8.964843750000002},{\"lat\":49.9917194319911,\"lng\":9.492187500000002}], {color: 'red'});\n            // map.addLayer(poly)\n            // poly.addTo(map)\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}