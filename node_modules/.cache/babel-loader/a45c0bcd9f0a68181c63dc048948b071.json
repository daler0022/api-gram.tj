{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { LMap, LTileLayer, LPolygon } from 'vue2-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-draw';\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport ToolBarMap from './ToolBarMap.vue';\nimport axios from 'axios'; // import FormDistrict from './FormDistrict.vue'\n// import FormCity from './FormCity.vue'\n// import FormRoute from './FormRoute.vue'\n// import FormHome from './FormHome.vue'\n\nexport default {\n  name: 'custom-map',\n  components: {\n    LMap: LMap,\n    LTileLayer: LTileLayer,\n    ToolBarMap: ToolBarMap,\n    LPolygon: LPolygon // FormDistrict,\n    // FormCity,\n    // FormRoute,\n    // FormHome,\n\n  },\n  data: function data() {\n    return {\n      url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n      zoom: 11,\n      center: [40.288405, 69.644229],\n      bounds: null,\n      polygons: [{\n        latlngs: [{\n          \"lat\": 40.306478485641776,\n          \"lng\": 69.61772203445436\n        }, {\n          \"lat\": 40.305072041116624,\n          \"lng\": 69.61833357810976\n        }, {\n          \"lat\": 40.30510474946144,\n          \"lng\": 69.61885929107667\n        }, {\n          \"lat\": 40.303223993908006,\n          \"lng\": 69.61941719055177\n        }, {\n          \"lat\": 40.30247985442723,\n          \"lng\": 69.61521148681642\n        }, {\n          \"lat\": 40.3024880318287,\n          \"lng\": 69.61452484130861\n        }, {\n          \"lat\": 40.302635224886,\n          \"lng\": 69.61432099342348\n        }, {\n          \"lat\": 40.30264340226867,\n          \"lng\": 69.61393475532533\n        }, {\n          \"lat\": 40.30255345100485,\n          \"lng\": 69.61360216140748\n        }, {\n          \"lat\": 40.30227541906864,\n          \"lng\": 69.61325883865358\n        }, {\n          \"lat\": 40.3020955154413,\n          \"lng\": 69.6128296852112\n        }, {\n          \"lat\": 40.301686641779305,\n          \"lng\": 69.61027622222902\n        }, {\n          \"lat\": 40.30351837649473,\n          \"lng\": 69.60967540740968\n        }, {\n          \"lat\": 40.30365739004808,\n          \"lng\": 69.61028695106508\n        }, {\n          \"lat\": 40.30524375975017,\n          \"lng\": 69.61048007011415\n        }],\n        color: '#f3f3f3'\n      }, {\n        latlngs: [{\n          \"lat\": 40.29803522593666,\n          \"lng\": 69.61555480957033\n        }, {\n          \"lat\": 40.30441371799424,\n          \"lng\": 69.63319301605226\n        }, {\n          \"lat\": 40.30479456381175,\n          \"lng\": 69.63333785533906\n        }, {\n          \"lat\": 40.306773398295086,\n          \"lng\": 69.63207185268404\n        }, {\n          \"lat\": 40.30563459740631,\n          \"lng\": 69.62955594062807\n        }, {\n          \"lat\": 40.30446527341357,\n          \"lng\": 69.6267342567444\n        }, {\n          \"lat\": 40.30398281915431,\n          \"lng\": 69.62512493133546\n        }, {\n          \"lat\": 40.30217562935323,\n          \"lng\": 69.61540460586549\n        }, {\n          \"lat\": 40.30180764360517,\n          \"lng\": 69.61467504501344\n        }, {\n          \"lat\": 40.30134152544679,\n          \"lng\": 69.61448192596437\n        }, {\n          \"lat\": 40.30017212714016,\n          \"lng\": 69.61467504501344\n        }],\n        color: '#000'\n      }],\n      token: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI5NjRmZmM0ZC01MDJmLTRjZTItYmExMi1mZWI4MGUxMzgwNmUiLCJqdGkiOiI3YmU0Nzk4MjI3OGFiMWY3YzIxMWZlOTY4ZmQ2YmVjZGU5NDEwZWEwZmZiNGQ4MTNhY2JjMTJmZmZlY2VkNDA4Y2FhNTIxZTFlYTk2NTIyYiIsImlhdCI6MTY1MzQ3NDQ2Mi4zMzY2MzcsIm5iZiI6MTY1MzQ3NDQ2Mi4zMzY2NDMsImV4cCI6MTY4NTAxMDQ2Mi4zMjg1ODQsInN1YiI6IjEiLCJzY29wZXMiOltdfQ.H1t2Xpu0Hoi0o0CHjku89PwtsUle3eicut5Yls2UShLIw_NF2Oaac9OVoTQdQ_Ngz93tVDZJgPLlTHhJE4qQc3YdLdYCmLfd-HOC5qknokZN-3O7dm1xKk_u08n8NqUoiJ9k37CNV0vYqBjWpFcFmwY0QnWmSVH2vExDmcdIdTqtt8njir1sf8bN-DrgOd1_4G1Vz-K3bU9pnndKyEfaJ__lEEthOASdBtYqAN0CUXq0LsTSiudUy8x97otPISYOdcYL8k2ZzlG-wH8w7avCMCvb6KwCps-3cuiE1eDGCDcIvyXMkpblagcSuCk1_doWs60tpUwmORrmA3uv6bfWpeNmqtgo-hVfyudj8OklM7LMWB6qrrUjXQNDtevRUbpbTkipaHhvq4PPUC7MIG6JR2Z0ox7EwRQ5FEfvU6CIZbfQnyJd3FL4eK0jS9Yg3Aowcf18r-92OkeEns8FXrO_LxRzbAAYF0gasgqUGI6gX9U7NT4Xbc3ldk6T8De30hzT1Q7HaI2rw9K7CDTZ3nmVPBtvqMsc4sWYoXDRmpbn4j-UDTpQ5CMq63PSXfAQQQiJoOERf9DAvzTqIFdjVQnKrEUG-LPdVOroB8GYM_vNlIb2a394VTZ4yVhk_cZsyzf2KS4Du4wbHzrmvE8gBh8u_ssUUtQjrtBowBgDBiqDQgk'\n    };\n  },\n  mounted: function mounted() {\n    var config = {\n      headers: {\n        'Authorization': 'Bearer ' + this.token\n      }\n    };\n    axios.get('https://sip.gram.tj/api/addresses/zones/2/edit', config).then(function (res) {\n      console.log(res.data.polygon);\n    });\n  },\n  methods: {\n    zoomUpdated: function zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated: function centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated: function boundsUpdated(bounds) {\n      this.bounds = bounds;\n    },\n    zoomPlus: function zoomPlus() {\n      this.zoom++;\n    },\n    zoomMinus: function zoomMinus() {\n      this.zoom--;\n    },\n    editPolygon: function editPolygon() {\n      var map = this.$refs.map.mapObject;\n      var drawnItems = new window.L.FeatureGroup();\n      map.addLayer(drawnItems);\n      map.on('draw:created', function (e) {\n        var type = e.layerType,\n            layer = e.layer;\n\n        if (type === 'marker') {\n          layer.bindPopup('A popup!');\n        }\n\n        drawnItems.addLayer(layer);\n      });\n      var polygon_options = {\n        showArea: false,\n        shapeOptions: {\n          stroke: true,\n          color: '#6e83f0',\n          weight: 2,\n          opacity: 0.5,\n          fill: true,\n          fillColor: null,\n          //same as color by default\n          fillOpacity: 0.2,\n          clickable: true\n        }\n      };\n      var polygonDrawer = new window.L.Draw.Polygon(map, polygon_options);\n      polygonDrawer.enable(); // map.on('draw:edited', (e) => {\n      //     // Update db to save latest changes.\n      //     var layers = e.layers;\n      //     layers.eachLayer((layer) => {\n      //         const lattitude = JSON.stringify(layer.getLatLngs()[0]) \n      //         console.log(layer);\n      //         this.longitudeLattitude = lattitude\n      //     });\n      // });\n      // let poly = L.polygon([{\"lat\":50.090442692166135,\"lng\":6.8115234375},{\"lat\":49.165903234689395,\"lng\":8.964843750000002},{\"lat\":49.9917194319911,\"lng\":9.492187500000002}], {color: 'red'});\n      // map.addLayer(poly)\n      // poly.addTo(map)\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SACAA,IADA,EACAC,UADA,EACAC,QADA,QAEA,cAFA;AAGA;AACA;AACA;AACA;AACA,0B,CACA;AACA;AACA;AACA;;AAEA;EACAC,kBADA;EAEAC;IACAJ,UADA;IAEAC,sBAFA;IAGAI,sBAHA;IAIAH,kBAJA,CAKA;IACA;IACA;IACA;;EARA,CAFA;EAYAI,IAZA,kBAYA;IACA;MACAC,8CADA;MAEAC,QAFA;MAGAC,8BAHA;MAIAC,YAJA;MAKAC,WACA;QACAC;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA,EADA;QAEAC;MAFA,CADA,EAKA;QACAD;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;QAAA,EADA;QAEAC;MAFA,CALA,CALA;MAeAC;IAfA;EAiBA,CA9BA;EA+BAC,OA/BA,qBA+BA;IACA;MACAC;QACA;MADA;IADA;IAKAC,oEACAC,IADA,CACA;MACAC;IACA,CAHA;EAIA,CAzCA;EA0CAC;IACAC,WADA,uBACAb,IADA,EACA;MACA;IACA,CAHA;IAIAc,aAJA,yBAIAb,MAJA,EAIA;MACA;IACA,CANA;IAOAc,aAPA,yBAOAb,MAPA,EAOA;MACA;IACA,CATA;IAUAc,QAVA,sBAUA;MACA;IACA,CAZA;IAaAC,SAbA,uBAaA;MACA;IACA,CAfA;IAgBAC,WAhBA,yBAgBA;MACA;MACA;MACAC;MAEAA;QACA;QAAA,IACAC,eADA;;QAGA;UACAA;QACA;;QAEAC;MACA,CATA;MAUA;QACAC,eADA;QAEAC;UACAC,YADA;UAEAnB,gBAFA;UAGAoB,SAHA;UAIAC,YAJA;UAKAC,UALA;UAMAC,eANA;UAMA;UACAC,gBAPA;UAQAC;QARA;MAFA;MAaA;MACAC,uBA7BA,CA8BA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EA3DA;AA1CA","names":["LMap","LTileLayer","LPolygon","name","components","ToolBarMap","data","url","zoom","center","bounds","polygons","latlngs","color","token","mounted","headers","axios","then","console","methods","zoomUpdated","centerUpdated","boundsUpdated","zoomPlus","zoomMinus","editPolygon","map","layer","drawnItems","showArea","shapeOptions","stroke","weight","opacity","fill","fillColor","fillOpacity","clickable","polygonDrawer"],"sourceRoot":"src/components/Map","sources":["CustomMap.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<l-map\n      id=\"map\"\n      style=\"height: 100vh;\"\n      ref=\"map\"\n      :zoom=\"zoom\"\n      :center=\"center\"\n      @update:zoom=\"zoomUpdated\"\n      @update:center=\"centerUpdated\"\n      @update:bounds=\"boundsUpdated\"\n      >\n      <l-tile-layer :url=\"url\" />\n   <l-polygon v-for=\"(polygon,index) in polygons\" :lat-lngs=\"polygon.latlngs\" :color=\"polygon.color\"  :key=\"'polygon'+index\"></l-polygon>\n  </l-map>\n  <tool-bar-map @zoomPlus=\"zoomPlus\" @zoomMinus=\"zoomMinus\" @editPolygon=\"editPolygon\" />\n  <!-- <form-district /> -->\n  <!-- <form-city /> -->\n  <!-- <form-route /> -->\n  <!-- <form-home /> -->\n\t</div>\n</template>\n\n<script>\nimport {\n  LMap, LTileLayer, LPolygon\n} from 'vue2-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport 'leaflet-draw'\nimport 'leaflet-draw/dist/leaflet.draw.css'\nimport ToolBarMap from './ToolBarMap.vue'\nimport axios from 'axios'\n// import FormDistrict from './FormDistrict.vue'\n// import FormCity from './FormCity.vue'\n// import FormRoute from './FormRoute.vue'\n// import FormHome from './FormHome.vue'\n\nexport default {\n  name: 'custom-map',\n\tcomponents: {\n    LMap,\n    LTileLayer,\n    ToolBarMap,\n    LPolygon\n    // FormDistrict,\n    // FormCity,\n    // FormRoute,\n    // FormHome,\n},\n\tdata(){\n    return {\n      url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n      zoom: 11,\n      center: [40.288405, 69.644229],\n      bounds: null,\n      polygons: [\n        {\n          latlngs: [{\"lat\": 40.306478485641776, \"lng\": 69.61772203445436}, {\"lat\": 40.305072041116624, \"lng\": 69.61833357810976}, {\"lat\": 40.30510474946144, \"lng\": 69.61885929107667}, {\"lat\": 40.303223993908006, \"lng\": 69.61941719055177}, {\"lat\": 40.30247985442723, \"lng\": 69.61521148681642}, {\"lat\": 40.3024880318287, \"lng\": 69.61452484130861}, {\"lat\": 40.302635224886, \"lng\": 69.61432099342348}, {\"lat\": 40.30264340226867, \"lng\": 69.61393475532533}, {\"lat\": 40.30255345100485, \"lng\": 69.61360216140748}, {\"lat\": 40.30227541906864, \"lng\": 69.61325883865358}, {\"lat\": 40.3020955154413, \"lng\": 69.6128296852112}, {\"lat\": 40.301686641779305, \"lng\": 69.61027622222902}, {\"lat\": 40.30351837649473, \"lng\": 69.60967540740968}, {\"lat\": 40.30365739004808, \"lng\": 69.61028695106508}, {\"lat\": 40.30524375975017, \"lng\": 69.61048007011415}],\n          color: '#f3f3f3'\n        },\n        {\n          latlngs: [{\"lat\": 40.29803522593666, \"lng\": 69.61555480957033}, {\"lat\": 40.30441371799424, \"lng\": 69.63319301605226}, {\"lat\": 40.30479456381175, \"lng\": 69.63333785533906}, {\"lat\": 40.306773398295086, \"lng\": 69.63207185268404}, {\"lat\": 40.30563459740631, \"lng\": 69.62955594062807}, {\"lat\": 40.30446527341357, \"lng\": 69.6267342567444}, {\"lat\": 40.30398281915431, \"lng\": 69.62512493133546}, {\"lat\": 40.30217562935323, \"lng\": 69.61540460586549}, {\"lat\": 40.30180764360517, \"lng\": 69.61467504501344}, {\"lat\": 40.30134152544679, \"lng\": 69.61448192596437}, {\"lat\": 40.30017212714016, \"lng\": 69.61467504501344}],\n          color: '#000'\n        }\n      ],\n      token: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI5NjRmZmM0ZC01MDJmLTRjZTItYmExMi1mZWI4MGUxMzgwNmUiLCJqdGkiOiI3YmU0Nzk4MjI3OGFiMWY3YzIxMWZlOTY4ZmQ2YmVjZGU5NDEwZWEwZmZiNGQ4MTNhY2JjMTJmZmZlY2VkNDA4Y2FhNTIxZTFlYTk2NTIyYiIsImlhdCI6MTY1MzQ3NDQ2Mi4zMzY2MzcsIm5iZiI6MTY1MzQ3NDQ2Mi4zMzY2NDMsImV4cCI6MTY4NTAxMDQ2Mi4zMjg1ODQsInN1YiI6IjEiLCJzY29wZXMiOltdfQ.H1t2Xpu0Hoi0o0CHjku89PwtsUle3eicut5Yls2UShLIw_NF2Oaac9OVoTQdQ_Ngz93tVDZJgPLlTHhJE4qQc3YdLdYCmLfd-HOC5qknokZN-3O7dm1xKk_u08n8NqUoiJ9k37CNV0vYqBjWpFcFmwY0QnWmSVH2vExDmcdIdTqtt8njir1sf8bN-DrgOd1_4G1Vz-K3bU9pnndKyEfaJ__lEEthOASdBtYqAN0CUXq0LsTSiudUy8x97otPISYOdcYL8k2ZzlG-wH8w7avCMCvb6KwCps-3cuiE1eDGCDcIvyXMkpblagcSuCk1_doWs60tpUwmORrmA3uv6bfWpeNmqtgo-hVfyudj8OklM7LMWB6qrrUjXQNDtevRUbpbTkipaHhvq4PPUC7MIG6JR2Z0ox7EwRQ5FEfvU6CIZbfQnyJd3FL4eK0jS9Yg3Aowcf18r-92OkeEns8FXrO_LxRzbAAYF0gasgqUGI6gX9U7NT4Xbc3ldk6T8De30hzT1Q7HaI2rw9K7CDTZ3nmVPBtvqMsc4sWYoXDRmpbn4j-UDTpQ5CMq63PSXfAQQQiJoOERf9DAvzTqIFdjVQnKrEUG-LPdVOroB8GYM_vNlIb2a394VTZ4yVhk_cZsyzf2KS4Du4wbHzrmvE8gBh8u_ssUUtQjrtBowBgDBiqDQgk'\n    }\n  },\n  mounted() {\n    let config = {\n    headers: {\n      'Authorization': 'Bearer ' + this.token\n    }\n  }\n    axios.get('https://sip.gram.tj/api/addresses/zones/2/edit', config)\n    .then(res => {\n      console.log(res.data.polygon);\n    })\n  },\n\tmethods: {\n    zoomUpdated(zoom) {\n      this.zoom = zoom;\n    },\n    centerUpdated(center) {\n      this.center = center;\n    },\n    boundsUpdated(bounds) {\n      this.bounds = bounds;\n    },\n    zoomPlus() {\n      this.zoom++\n    },\n    zoomMinus() {\n      this.zoom--\n    },\n    editPolygon() {\n            const map = this.$refs.map.mapObject;\n            var drawnItems = new window.L.FeatureGroup()\n            map.addLayer(drawnItems)\n\n            map.on('draw:created', (e) => {\n                var type = e.layerType,\n                    layer = e.layer;\n                \n                if (type === 'marker') {\n                    layer.bindPopup('A popup!');\n                }\n                \n                drawnItems.addLayer(layer);\n            });\n            const polygon_options = {\n              showArea: false,\n              shapeOptions: {\n                stroke: true,\n                color: '#6e83f0',\n                weight: 2,\n                opacity: 0.5,\n                fill: true,\n                fillColor: null, //same as color by default\n                fillOpacity: 0.2,\n                clickable: true\n              }\n            }\n            var polygonDrawer = new window.L.Draw.Polygon(map, polygon_options);     \n            polygonDrawer.enable();\n            // map.on('draw:edited', (e) => {\n            //     // Update db to save latest changes.\n            //     var layers = e.layers;\n                \n            //     layers.eachLayer((layer) => {\n            //         const lattitude = JSON.stringify(layer.getLatLngs()[0]) \n            //         console.log(layer);\n            //         this.longitudeLattitude = lattitude\n            //     });\n            // });\n            // let poly = L.polygon([{\"lat\":50.090442692166135,\"lng\":6.8115234375},{\"lat\":49.165903234689395,\"lng\":8.964843750000002},{\"lat\":49.9917194319911,\"lng\":9.492187500000002}], {color: 'red'});\n            // map.addLayer(poly)\n            // poly.addTo(map)\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}