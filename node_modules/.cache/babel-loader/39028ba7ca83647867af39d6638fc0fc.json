{"ast":null,"code":"import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\n\nif (!Array.from) {\n  Array.from = function (object) {\n    'use strict';\n\n    return [].slice.call(object);\n  };\n}\n\nif (!Array.isArray) {\n  Array.isArray = function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n  };\n} // --- Constants ---\n\n\nvar arrayFrom = Array.from;\nexport var isArray = Array.isArray;\nexport var keyCodes = {\n  ESC: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n}; // --- Dom Utils ---\n// Returns true if the parent element contains the child element\n\nvar contains = function contains(parent, child) {\n  if (!parent || typeof parent.contains !== 'function') {\n    return false;\n  }\n\n  return parent.contains(child);\n}; // Attach an event listener to an element\n\n\nexport var eventOn = function eventOn(el, eventName, handler) {\n  if (el && el.addEventListener) {\n    el.addEventListener(eventName, handler);\n  }\n}; // Remove an event listener from an element\n\nexport var eventOff = function eventOff(el, eventName, handler) {\n  if (el && el.removeEventListener) {\n    el.removeEventListener(eventName, handler);\n  }\n}; // Filter visible elements\n\nexport var filterVisible = function filterVisible(elements) {\n  return (elements || []).filter(isVisible);\n}; // Return the Bounding Client Rect of an element\n// Returns `null` if not an element\n\nexport var getBCR = function getBCR(el) {\n  return isElement(el) ? el.getBoundingClientRect() : null;\n}; // Determine if an element is an HTML element\n\nvar isElement = function isElement(el) {\n  return Boolean(el && el.nodeType === Node.ELEMENT_NODE);\n}; // Determine if an HTML element is visible - Faster than CSS check\n\n\nvar isVisible = function isVisible(el) {\n  if (!isElement(el) || !contains(document.body, el)) {\n    return false;\n  }\n\n  if (el.style.display === 'none') {\n    return false;\n  }\n\n  var bcr = getBCR(el);\n  return Boolean(bcr && bcr.height > 0 && bcr.width > 0);\n}; // Select all elements matching a selector. Returns `[]` if none found\n\n\nexport var selectAll = function selectAll(selector, root) {\n  return arrayFrom((isElement(root) ? root : document).querySelectorAll(selector));\n}; // Set an attribute on an element\n\nexport var setAttr = function setAttr(el, attr, value) {\n  if (attr && isElement(el)) {\n    el.setAttribute(attr, value);\n  }\n};\nexport var parentElementByClassName = function parentElementByClassName(element, className) {\n  var parentElement = element.parentElement;\n\n  while (parentElement !== null && !parentElement.classList.contains(className)) {\n    parentElement = parentElement.parentElement;\n  }\n\n  return parentElement;\n};","map":{"version":3,"names":["Array","from","object","slice","call","isArray","arg","Object","prototype","toString","arrayFrom","keyCodes","ESC","LEFT","UP","RIGHT","DOWN","contains","parent","child","eventOn","el","eventName","handler","addEventListener","eventOff","removeEventListener","filterVisible","elements","filter","isVisible","getBCR","isElement","getBoundingClientRect","Boolean","nodeType","Node","ELEMENT_NODE","document","body","style","display","bcr","height","width","selectAll","selector","root","querySelectorAll","setAttr","attr","value","setAttribute","parentElementByClassName","element","className","parentElement","classList"],"sources":["/home/daler/map/node_modules/vue-context/src/js/utils.js"],"sourcesContent":["if (! Array.from) {\n    Array.from = object => {\n        'use strict';\n\n        return [].slice.call(object);\n    };\n}\n\nif (! Array.isArray) {\n    Array.isArray = arg => Object.prototype.toString.call(arg) === '[object Array]';\n}\n\n// --- Constants ---\nconst arrayFrom = Array.from;\n\nexport const isArray = Array.isArray;\n\nexport const keyCodes = {\n    ESC: 27,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40\n};\n\n// --- Dom Utils ---\n\n// Returns true if the parent element contains the child element\nconst contains = (parent, child) => {\n    if (! parent || typeof parent.contains !== 'function') {\n        return false;\n    }\n\n    return parent.contains(child);\n};\n\n// Attach an event listener to an element\nexport const eventOn = (el, eventName, handler) => {\n    if (el && el.addEventListener) {\n        el.addEventListener(eventName, handler);\n    }\n};\n\n// Remove an event listener from an element\nexport const eventOff = (el, eventName, handler) => {\n    if (el && el.removeEventListener) {\n        el.removeEventListener(eventName, handler);\n    }\n};\n\n// Filter visible elements\nexport const filterVisible = elements => (elements || []).filter(isVisible);\n\n// Return the Bounding Client Rect of an element\n// Returns `null` if not an element\nexport const getBCR = el => (isElement(el) ? el.getBoundingClientRect() : null);\n\n// Determine if an element is an HTML element\nconst isElement = el => Boolean(el && el.nodeType === Node.ELEMENT_NODE);\n\n// Determine if an HTML element is visible - Faster than CSS check\nconst isVisible = el => {\n    if (! isElement(el) || ! contains(document.body, el)) {\n        return false;\n    }\n\n    if (el.style.display === 'none') {\n        return false;\n    }\n\n    const bcr = getBCR(el);\n\n    return Boolean(bcr && bcr.height > 0 && bcr.width > 0);\n};\n\n// Select all elements matching a selector. Returns `[]` if none found\nexport const selectAll = (selector, root) =>\n    arrayFrom((isElement(root) ? root : document).querySelectorAll(selector));\n\n// Set an attribute on an element\nexport const setAttr = (el, attr, value) => {\n    if (attr && isElement(el)) {\n        el.setAttribute(attr, value);\n    }\n};\n\nexport const parentElementByClassName = (element, className) => {\n    let parentElement = element.parentElement;\n\n    while (parentElement !== null && !parentElement.classList.contains(className)) {\n        parentElement = parentElement.parentElement;\n    }\n\n    return parentElement;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}