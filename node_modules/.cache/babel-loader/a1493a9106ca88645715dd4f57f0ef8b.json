{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport { isRef, defineComponent, ref, computed, reactive, watch, onBeforeUnmount, provide, withDirectives, createVNode, vShow, Teleport, isVNode, nextTick, inject } from 'vue';\n\nvar bind = function bind(el, binding) {\n  var _binding$instance;\n\n  var contextmenuKey = binding.arg;\n\n  if (!contextmenuKey) {\n    console.error(\"参数有误\");\n    return;\n  }\n\n  var contextmenuOptions = binding.value;\n  var contextmenuRef = isRef(contextmenuKey) ? contextmenuKey.value : (_binding$instance = binding.instance) === null || _binding$instance === void 0 ? void 0 : _binding$instance.$refs[contextmenuKey];\n\n  if (!contextmenuRef) {\n    console.error(\"\\u6CA1\\u6709\\u627E\\u5230 \".concat(contextmenuKey, \" \\u5BF9\\u5E94\\u7684\\u5B9E\\u4F8B\"));\n    return;\n  }\n\n  if (typeof contextmenuRef.addReference !== \"function\") {\n    console.error(\"\".concat(contextmenuKey, \" \\u5BF9\\u5E94\\u7684\\u5B9E\\u4F8B\\u4E0D\\u662F VContextmenu\"));\n    return;\n  }\n\n  el.$contextmenuKey = contextmenuKey;\n  contextmenuRef.addReference(el, contextmenuOptions);\n};\n\nvar unbind = function unbind(el, binding) {\n  var _binding$instance2;\n\n  var contextmenuKey = el.$contextmenuKey;\n  if (!contextmenuKey) return;\n  var contextmenuRef = (_binding$instance2 = binding.instance) === null || _binding$instance2 === void 0 ? void 0 : _binding$instance2.$refs[contextmenuKey];\n  contextmenuRef === null || contextmenuRef === void 0 ? void 0 : contextmenuRef.removeReference(el);\n};\n\nvar rebind = function rebind(el, binding) {\n  unbind(el, binding);\n  bind(el, binding);\n};\n\nvar contextmenuDirective = {\n  mounted: bind,\n  updated: rebind,\n  beforeUnmount: unbind\n};\nvar CLASSES = {\n  contextmenu: \"v-contextmenu\",\n  // 根元素\n  contextmenuIcon: \"v-contextmenu-icon\",\n  // icon\n  contextmenuInner: \"v-contextmenu-inner\",\n  // 菜单根元素\n  contextmenuDivider: \"v-contextmenu-divider\",\n  // 分割线\n  contextmenuItem: \"v-contextmenu-item\",\n  // 单个菜单\n  contextmenuItemHover: \"v-contextmenu-item--hover\",\n  // 单个菜单激活状态\n  contextmenuItemDisabled: \"v-contextmenu-item--disabled\",\n  // 单个菜单禁用状态\n  contextmenuGroup: \"v-contextmenu-group\",\n  // 按钮组根元素\n  contextmenuGroupTitle: \"v-contextmenu-group__title\",\n  // 按钮组标题\n  contextmenuGroupMenus: \"v-contextmenu-group__menus\",\n  // 按钮组按钮容器\n  contextmenuSubmenu: \"v-contextmenu-submenu\",\n  // 子菜单容器\n  contextmenuSubmenuTitle: \"v-contextmenu-submenu__title\",\n  // 子菜单标题\n  contextmenuSubmenuMenus: \"v-contextmenu-submenu__menus\",\n  // 子菜单\n  contextmenuSubmenuMenusTop: \"v-contextmenu-submenu__menus--top\",\n  // 子菜单 Top\n  contextmenuSubmenuMenusRight: \"v-contextmenu-submenu__menus--right\",\n  // 子菜单 Right\n  contextmenuSubmenuMenusBottom: \"v-contextmenu-submenu__menus--bottom\",\n  // 子菜 Bottom单\n  contextmenuSubmenuMenusLeft: \"v-contextmenu-submenu__menus--left\",\n  // 子菜单 Left\n  contextmenuSubmenuArrow: \"v-contextmenu-submenu__arrow\" // 子菜单标题 icon\n\n};\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\n\nvar DEFAULT_REFERENCE_OPTIONS = {\n  trigger: [\"contextmenu\"]\n};\nvar Contextmenu = defineComponent({\n  name: \"VContextmenu\",\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    autoAjustPlacement: {\n      type: Boolean,\n      default: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    teleport: {\n      type: [String, Object],\n      default: function _default() {\n        return \"body\";\n      }\n    } // destroyOnHide: {\n    //   type: Boolean,\n    //   default: false,\n    // },\n\n  },\n  emits: [\"show\", \"hide\", \"update:modelValue\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var contextmenuRef = ref(null);\n    var visible = ref(props.modelValue || false);\n\n    var toggle = function toggle(value) {\n      visible.value = value;\n      emit(\"update:modelValue\", value);\n    };\n\n    var position = ref({\n      top: 0,\n      left: 0\n    });\n    var style = computed(function () {\n      return {\n        top: \"\".concat(position.value.top, \"px\"),\n        left: \"\".concat(position.value.left, \"px\")\n      };\n    });\n    var currentOptions = ref(null);\n\n    var show = function show(evt, options) {\n      var targetOptions = evt instanceof Event ? options : evt;\n      var autoAjustPlacement = (targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.autoAjustPlacement) || props.autoAjustPlacement;\n      var targetPosition = {\n        top: (targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.top) || 0,\n        left: (targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.left) || 0\n      };\n\n      if (evt instanceof Event) {\n        var _targetOptions$top, _targetOptions$left;\n\n        evt.preventDefault();\n        targetPosition.top = (_targetOptions$top = targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.top) !== null && _targetOptions$top !== void 0 ? _targetOptions$top : evt.pageY;\n        targetPosition.left = (_targetOptions$left = targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.left) !== null && _targetOptions$left !== void 0 ? _targetOptions$left : evt.pageX;\n      }\n\n      toggle(true);\n      nextTick(function () {\n        if (autoAjustPlacement) {\n          var el = contextmenuRef.value;\n          if (!el) return;\n          var width = el.clientWidth;\n          var height = el.clientHeight;\n\n          if (height + targetPosition.top >= window.innerHeight + window.scrollY) {\n            var targetTop = targetPosition.top - height;\n\n            if (targetTop > window.scrollY) {\n              targetPosition.top = targetTop;\n            }\n          }\n\n          if (width + targetPosition.left >= window.innerWidth + window.scrollX) {\n            var targetWidth = targetPosition.left - width;\n\n            if (targetWidth > window.scrollX) {\n              targetPosition.left = targetWidth;\n            }\n          }\n        }\n\n        position.value = targetPosition; // TODO: 添加回掉参数\n\n        emit(\"show\");\n      });\n    };\n\n    var hide = function hide() {\n      currentOptions.value = null;\n      toggle(false); // TODO: 添加回掉参数\n\n      emit(\"hide\");\n    };\n\n    var references = reactive(new Map());\n    var currentReference = ref();\n    var currentReferenceOptions = computed(function () {\n      return currentReference.value && references.get(currentReference.value);\n    });\n\n    var addReference = function addReference(el, options) {\n      var triggers = function () {\n        if (options !== null && options !== void 0 && options.trigger) {\n          return Array.isArray(options.trigger) ? options.trigger : [options.trigger];\n        }\n\n        return DEFAULT_REFERENCE_OPTIONS.trigger;\n      }();\n\n      var handler = function handler(evt) {\n        if (props.disabled) return;\n        currentReference.value = el;\n        show(evt, {});\n      };\n\n      triggers.forEach(function (eventType) {\n        el.addEventListener(eventType, handler);\n      });\n      references.set(el, {\n        triggers: triggers,\n        handler: handler\n      });\n    };\n\n    var removeReference = function removeReference(el) {\n      var options = references.get(el);\n      if (!options) return;\n      options.triggers.forEach(function (eventType) {\n        el.removeEventListener(eventType, options.handler);\n      });\n      references.delete(el);\n    };\n\n    var onBodyClick = function onBodyClick(evt) {\n      if (!evt.target || !contextmenuRef.value || !currentReference.value) return;\n      var notOutside = contextmenuRef.value.contains(evt.target) || currentReferenceOptions.value && currentReferenceOptions.value.triggers.includes(\"click\") && currentReference.value.contains(evt.target);\n\n      if (!notOutside) {\n        toggle(false);\n      }\n    }; // watch(props.modelValue, (value) => {\n    //   if (value !== visible.value) {\n    //     toggle(value);\n    //   }\n    // });\n\n\n    watch(visible, function (value) {\n      if (value) {\n        document.addEventListener(\"click\", onBodyClick);\n      } else {\n        document.removeEventListener(\"click\", onBodyClick);\n      }\n    });\n    onBeforeUnmount(function () {\n      document.removeEventListener(\"click\", onBodyClick);\n    });\n    provide(\"visible\", visible);\n    provide(\"autoAjustPlacement\", props.autoAjustPlacement);\n    provide(\"show\", show);\n    provide(\"hide\", hide);\n    return {\n      visible: visible,\n      style: style,\n      currentReferenceOptions: currentReferenceOptions,\n      currentOptions: currentOptions,\n      contextmenuRef: contextmenuRef,\n      addReference: addReference,\n      removeReference: removeReference,\n      toggle: toggle,\n      show: show,\n      hide: hide\n    };\n  },\n  methods: {\n    renderContent: function renderContent() {\n      var _this$$slots$default, _this$$slots;\n\n      return withDirectives(createVNode(\"div\", {\n        \"class\": CLASSES.contextmenu,\n        \"ref\": \"contextmenuRef\",\n        \"style\": this.style\n      }, [createVNode(\"ul\", {\n        \"class\": CLASSES.contextmenuInner\n      }, [(_this$$slots$default = (_this$$slots = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots, {\n        triggerOptions: \"currentReferenceOptions\",\n        options: \"currentOptions\"\n      })])]), [[vShow, \"visible\"]]);\n    }\n  },\n  render: function render() {\n    var _slot;\n\n    if (!this.visible) return null;\n    return this.teleport ? createVNode(Teleport, {\n      \"to\": this.teleport\n    }, _isSlot(_slot = this.renderContent()) ? _slot : {\n      default: function _default() {\n        return [_slot];\n      }\n    }) : this.renderContent();\n  }\n});\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ContextmenuItem = defineComponent({\n  name: \"VContextmenuItem\",\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    hideOnClick: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"click\", \"mouseenter\", \"mouseleave\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var rootHide = inject(\"hide\");\n    var hover = ref(false);\n    var classes = computed(function () {\n      var _ref2;\n\n      return _ref2 = {}, _defineProperty(_ref2, CLASSES.contextmenuItem, true), _defineProperty(_ref2, CLASSES.contextmenuItemDisabled, props.disabled), _defineProperty(_ref2, CLASSES.contextmenuItemHover, hover.value), _ref2;\n    });\n\n    var handleClick = function handleClick(evt) {\n      if (props.disabled) return;\n      emit(\"click\", evt);\n      props.hideOnClick && (rootHide === null || rootHide === void 0 ? void 0 : rootHide());\n    };\n\n    var handleMouseenter = function handleMouseenter(evt) {\n      if (props.disabled) return;\n      hover.value = true;\n      emit(\"mouseenter\", evt);\n    };\n\n    var handleMouseleave = function handleMouseleave(evt) {\n      if (props.disabled) return;\n      hover.value = false;\n      emit(\"mouseleave\", evt);\n    };\n\n    return {\n      classes: classes,\n      handleClick: handleClick,\n      handleMouseenter: handleMouseenter,\n      handleMouseleave: handleMouseleave\n    };\n  },\n  render: function render() {\n    var _this$$slots$default, _this$$slots;\n\n    return createVNode(\"li\", {\n      \"class\": this.classes,\n      \"onClick\": this.handleClick,\n      \"onMouseenter\": this.handleMouseenter,\n      \"onMouseleave\": this.handleMouseleave\n    }, [(_this$$slots$default = (_this$$slots = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots)]);\n  }\n});\nvar ContextmenuDivider = defineComponent({\n  name: \"VContextmenuDivider\",\n  render: function render() {\n    return createVNode(\"li\", {\n      \"class\": CLASSES.contextmenuDivider\n    }, null);\n  }\n});\nvar ContextmenuIcon = defineComponent({\n  name: \"VContextmenuIcon\",\n  props: {\n    name: {\n      type: String,\n      required: true\n    }\n  },\n  render: function render() {\n    return createVNode(\"i\", {\n      \"class\": [CLASSES.contextmenuIcon, \"\".concat(CLASSES.contextmenuIcon, \"-\").concat(this.name)]\n    }, null);\n  }\n});\nvar ContextmenuSubmenu = defineComponent({\n  name: \"VContextmenuSubmenu\",\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"mouseenter\", \"mouseleave\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var submenuRef = ref(null);\n    var autoAjustPlacement = inject(\"autoAjustPlacement\");\n    var placements = ref([\"top\", \"right\"]);\n    var hover = ref(false);\n\n    var handleMouseenter = function handleMouseenter(evt) {\n      if (props.disabled) return;\n      hover.value = true;\n      emit(\"mouseenter\", evt);\n      nextTick(function () {\n        var targetPlacements = [];\n\n        if (autoAjustPlacement) {\n          var target = evt.target;\n          var targetDimension = target.getBoundingClientRect();\n          if (!submenuRef.value) return;\n          var submenuWidth = submenuRef.value.clientWidth;\n          var submenuHeight = submenuRef.value.clientHeight;\n\n          if (targetDimension.right + submenuWidth >= window.innerWidth) {\n            targetPlacements.push(\"left\");\n          } else {\n            targetPlacements.push(\"right\");\n          }\n\n          if (targetDimension.bottom + submenuHeight >= window.innerHeight) {\n            targetPlacements.push(\"bottom\");\n          } else {\n            targetPlacements.push(\"top\");\n          }\n        }\n\n        placements.value = targetPlacements;\n      });\n    };\n\n    var handleMouseleave = function handleMouseleave(evt) {\n      if (props.disabled) return;\n      hover.value = false;\n      emit(\"mouseleave\", evt);\n    };\n\n    var titleClasses = computed(function () {\n      var _ref2;\n\n      return _ref2 = {}, _defineProperty(_ref2, CLASSES.contextmenuItem, true), _defineProperty(_ref2, CLASSES.contextmenuSubmenuTitle, true), _defineProperty(_ref2, CLASSES.contextmenuItemHover, hover.value), _defineProperty(_ref2, CLASSES.contextmenuItemDisabled, props.disabled), _ref2;\n    });\n    var menusClasses = computed(function () {\n      var _ref3;\n\n      return _ref3 = {}, _defineProperty(_ref3, CLASSES.contextmenu, true), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenus, true), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusTop, placements.value.includes(\"top\")), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusRight, placements.value.includes(\"right\")), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusBottom, placements.value.includes(\"bottom\")), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusLeft, placements.value.includes(\"left\")), _ref3;\n    });\n    return {\n      hover: hover,\n      submenuRef: submenuRef,\n      titleClasses: titleClasses,\n      menusClasses: menusClasses,\n      handleMouseenter: handleMouseenter,\n      handleMouseleave: handleMouseleave\n    };\n  },\n  render: function render() {\n    var _this$$slots$title, _this$$slots, _this$$slots$default, _this$$slots2;\n\n    return createVNode(\"li\", {\n      \"class\": CLASSES.contextmenuSubmenu,\n      \"onMouseenter\": this.handleMouseenter,\n      \"onMouseleave\": this.handleMouseleave\n    }, [createVNode(\"div\", {\n      \"class\": this.titleClasses\n    }, [((_this$$slots$title = (_this$$slots = this.$slots).title) === null || _this$$slots$title === void 0 ? void 0 : _this$$slots$title.call(_this$$slots)) || this.title, createVNode(\"span\", {\n      \"class\": CLASSES.contextmenuSubmenuArrow\n    }, [createVNode(ContextmenuIcon, {\n      \"name\": \"right-arrow\"\n    }, null)])]), this.hover ? createVNode(\"div\", {\n      \"ref\": \"submenuRef\",\n      \"class\": this.menusClasses\n    }, [createVNode(\"ul\", {\n      \"class\": CLASSES.contextmenuInner\n    }, [(_this$$slots$default = (_this$$slots2 = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots2)])]) : null]);\n  }\n});\nvar ContextmenuGroup = defineComponent({\n  name: \"VContextmenuGroup\",\n  props: {\n    title: {\n      type: String,\n      default: undefined\n    },\n    maxWidth: {\n      type: [Number, String],\n      default: undefined\n    }\n  },\n  setup: function setup(props) {\n    var style = computed(function () {\n      if (!props.maxWidth) return;\n      return {\n        \"max-width\": typeof props.maxWidth === \"number\" ? \"\".concat(props.maxWidth, \"px\") : props.maxWidth,\n        \"overflow-x\": \"auto\"\n      };\n    });\n    return {\n      style: style\n    };\n  },\n  methods: {\n    renderTitle: function renderTitle() {\n      var _this$$slots$title, _this$$slots;\n\n      var content = ((_this$$slots$title = (_this$$slots = this.$slots).title) === null || _this$$slots$title === void 0 ? void 0 : _this$$slots$title.call(_this$$slots)) || this.title;\n      return content ? createVNode(\"div\", {\n        \"class\": CLASSES.contextmenuGroupTitle\n      }, [content]) : null;\n    }\n  },\n  render: function render() {\n    var _this$$slots$default, _this$$slots2;\n\n    return createVNode(\"li\", {\n      \"class\": CLASSES.contextmenuGroup\n    }, [this.renderTitle(), createVNode(\"ul\", {\n      \"style\": this.style,\n      \"class\": CLASSES.contextmenuGroupMenus\n    }, [(_this$$slots$default = (_this$$slots2 = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots2)])]);\n  }\n});\nvar version = \"3.0.0\";\n\nvar install = function install(app) {\n  app.directive(\"contextmenu\", contextmenuDirective);\n  app.component(Contextmenu.name, Contextmenu);\n  app.component(ContextmenuItem.name, ContextmenuItem);\n  app.component(ContextmenuDivider.name, ContextmenuDivider);\n  app.component(ContextmenuSubmenu.name, ContextmenuSubmenu);\n  app.component(ContextmenuGroup.name, ContextmenuGroup);\n};\n\nvar VContextmenu = {\n  install: install,\n  version: version\n};\nexport default VContextmenu;\nexport { Contextmenu, ContextmenuDivider, ContextmenuGroup, ContextmenuItem, ContextmenuSubmenu, contextmenuDirective as directive, install, version };","map":{"version":3,"names":["isRef","defineComponent","ref","computed","reactive","watch","onBeforeUnmount","provide","withDirectives","createVNode","vShow","Teleport","isVNode","nextTick","inject","bind","el","binding","_binding$instance","contextmenuKey","arg","console","error","contextmenuOptions","value","contextmenuRef","instance","$refs","concat","addReference","$contextmenuKey","unbind","_binding$instance2","removeReference","rebind","contextmenuDirective","mounted","updated","beforeUnmount","CLASSES","contextmenu","contextmenuIcon","contextmenuInner","contextmenuDivider","contextmenuItem","contextmenuItemHover","contextmenuItemDisabled","contextmenuGroup","contextmenuGroupTitle","contextmenuGroupMenus","contextmenuSubmenu","contextmenuSubmenuTitle","contextmenuSubmenuMenus","contextmenuSubmenuMenusTop","contextmenuSubmenuMenusRight","contextmenuSubmenuMenusBottom","contextmenuSubmenuMenusLeft","contextmenuSubmenuArrow","_isSlot","s","Object","prototype","toString","call","DEFAULT_REFERENCE_OPTIONS","trigger","Contextmenu","name","props","modelValue","type","Boolean","default","autoAjustPlacement","disabled","teleport","String","_default","emits","setup","_ref","emit","visible","toggle","position","top","left","style","currentOptions","show","evt","options","targetOptions","Event","targetPosition","_targetOptions$top","_targetOptions$left","preventDefault","pageY","pageX","width","clientWidth","height","clientHeight","window","innerHeight","scrollY","targetTop","innerWidth","scrollX","targetWidth","hide","references","Map","currentReference","currentReferenceOptions","get","triggers","Array","isArray","handler","forEach","eventType","addEventListener","set","removeEventListener","delete","onBodyClick","target","notOutside","contains","includes","document","methods","renderContent","_this$$slots$default","_this$$slots","$slots","triggerOptions","render","_slot","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ContextmenuItem","hideOnClick","rootHide","hover","classes","_ref2","handleClick","handleMouseenter","handleMouseleave","ContextmenuDivider","ContextmenuIcon","required","ContextmenuSubmenu","title","submenuRef","placements","targetPlacements","targetDimension","getBoundingClientRect","submenuWidth","submenuHeight","right","push","bottom","titleClasses","menusClasses","_ref3","_this$$slots$title","_this$$slots2","ContextmenuGroup","undefined","maxWidth","Number","renderTitle","content","version","install","app","directive","component","VContextmenu"],"sources":["/home/daler/map/node_modules/v-contextmenu/dist/index.esm.js"],"sourcesContent":["import { isRef, defineComponent, ref, computed, reactive, watch, onBeforeUnmount, provide, withDirectives, createVNode, vShow, Teleport, isVNode, nextTick, inject } from 'vue';\n\nvar bind = function bind(el, binding) {\n  var _binding$instance;\n\n  var contextmenuKey = binding.arg;\n\n  if (!contextmenuKey) {\n    console.error(\"参数有误\");\n    return;\n  }\n\n  var contextmenuOptions = binding.value;\n  var contextmenuRef = isRef(contextmenuKey) ? contextmenuKey.value : (_binding$instance = binding.instance) === null || _binding$instance === void 0 ? void 0 : _binding$instance.$refs[contextmenuKey];\n\n  if (!contextmenuRef) {\n    console.error(\"\\u6CA1\\u6709\\u627E\\u5230 \".concat(contextmenuKey, \" \\u5BF9\\u5E94\\u7684\\u5B9E\\u4F8B\"));\n    return;\n  }\n\n  if (typeof contextmenuRef.addReference !== \"function\") {\n    console.error(\"\".concat(contextmenuKey, \" \\u5BF9\\u5E94\\u7684\\u5B9E\\u4F8B\\u4E0D\\u662F VContextmenu\"));\n    return;\n  }\n\n  el.$contextmenuKey = contextmenuKey;\n  contextmenuRef.addReference(el, contextmenuOptions);\n};\n\nvar unbind = function unbind(el, binding) {\n  var _binding$instance2;\n\n  var contextmenuKey = el.$contextmenuKey;\n  if (!contextmenuKey) return;\n  var contextmenuRef = (_binding$instance2 = binding.instance) === null || _binding$instance2 === void 0 ? void 0 : _binding$instance2.$refs[contextmenuKey];\n  contextmenuRef === null || contextmenuRef === void 0 ? void 0 : contextmenuRef.removeReference(el);\n};\n\nvar rebind = function rebind(el, binding) {\n  unbind(el, binding);\n  bind(el, binding);\n};\n\nvar contextmenuDirective = {\n  mounted: bind,\n  updated: rebind,\n  beforeUnmount: unbind\n};\n\nvar CLASSES = {\n  contextmenu: \"v-contextmenu\",\n  // 根元素\n  contextmenuIcon: \"v-contextmenu-icon\",\n  // icon\n  contextmenuInner: \"v-contextmenu-inner\",\n  // 菜单根元素\n  contextmenuDivider: \"v-contextmenu-divider\",\n  // 分割线\n  contextmenuItem: \"v-contextmenu-item\",\n  // 单个菜单\n  contextmenuItemHover: \"v-contextmenu-item--hover\",\n  // 单个菜单激活状态\n  contextmenuItemDisabled: \"v-contextmenu-item--disabled\",\n  // 单个菜单禁用状态\n  contextmenuGroup: \"v-contextmenu-group\",\n  // 按钮组根元素\n  contextmenuGroupTitle: \"v-contextmenu-group__title\",\n  // 按钮组标题\n  contextmenuGroupMenus: \"v-contextmenu-group__menus\",\n  // 按钮组按钮容器\n  contextmenuSubmenu: \"v-contextmenu-submenu\",\n  // 子菜单容器\n  contextmenuSubmenuTitle: \"v-contextmenu-submenu__title\",\n  // 子菜单标题\n  contextmenuSubmenuMenus: \"v-contextmenu-submenu__menus\",\n  // 子菜单\n  contextmenuSubmenuMenusTop: \"v-contextmenu-submenu__menus--top\",\n  // 子菜单 Top\n  contextmenuSubmenuMenusRight: \"v-contextmenu-submenu__menus--right\",\n  // 子菜单 Right\n  contextmenuSubmenuMenusBottom: \"v-contextmenu-submenu__menus--bottom\",\n  // 子菜 Bottom单\n  contextmenuSubmenuMenusLeft: \"v-contextmenu-submenu__menus--left\",\n  // 子菜单 Left\n  contextmenuSubmenuArrow: \"v-contextmenu-submenu__arrow\" // 子菜单标题 icon\n\n};\n\nfunction _isSlot(s) {\n  return typeof s === 'function' || Object.prototype.toString.call(s) === '[object Object]' && !isVNode(s);\n}\n\nvar DEFAULT_REFERENCE_OPTIONS = {\n  trigger: [\"contextmenu\"]\n};\nvar Contextmenu = defineComponent({\n  name: \"VContextmenu\",\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    autoAjustPlacement: {\n      type: Boolean,\n      default: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    teleport: {\n      type: [String, Object],\n      default: function _default() {\n        return \"body\";\n      }\n    } // destroyOnHide: {\n    //   type: Boolean,\n    //   default: false,\n    // },\n\n  },\n  emits: [\"show\", \"hide\", \"update:modelValue\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var contextmenuRef = ref(null);\n    var visible = ref(props.modelValue || false);\n\n    var toggle = function toggle(value) {\n      visible.value = value;\n      emit(\"update:modelValue\", value);\n    };\n\n    var position = ref({\n      top: 0,\n      left: 0\n    });\n    var style = computed(function () {\n      return {\n        top: \"\".concat(position.value.top, \"px\"),\n        left: \"\".concat(position.value.left, \"px\")\n      };\n    });\n    var currentOptions = ref(null);\n\n    var show = function show(evt, options) {\n      var targetOptions = evt instanceof Event ? options : evt;\n      var autoAjustPlacement = (targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.autoAjustPlacement) || props.autoAjustPlacement;\n      var targetPosition = {\n        top: (targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.top) || 0,\n        left: (targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.left) || 0\n      };\n\n      if (evt instanceof Event) {\n        var _targetOptions$top, _targetOptions$left;\n\n        evt.preventDefault();\n        targetPosition.top = (_targetOptions$top = targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.top) !== null && _targetOptions$top !== void 0 ? _targetOptions$top : evt.pageY;\n        targetPosition.left = (_targetOptions$left = targetOptions === null || targetOptions === void 0 ? void 0 : targetOptions.left) !== null && _targetOptions$left !== void 0 ? _targetOptions$left : evt.pageX;\n      }\n\n      toggle(true);\n      nextTick(function () {\n        if (autoAjustPlacement) {\n          var el = contextmenuRef.value;\n          if (!el) return;\n          var width = el.clientWidth;\n          var height = el.clientHeight;\n\n          if (height + targetPosition.top >= window.innerHeight + window.scrollY) {\n            var targetTop = targetPosition.top - height;\n\n            if (targetTop > window.scrollY) {\n              targetPosition.top = targetTop;\n            }\n          }\n\n          if (width + targetPosition.left >= window.innerWidth + window.scrollX) {\n            var targetWidth = targetPosition.left - width;\n\n            if (targetWidth > window.scrollX) {\n              targetPosition.left = targetWidth;\n            }\n          }\n        }\n\n        position.value = targetPosition; // TODO: 添加回掉参数\n\n        emit(\"show\");\n      });\n    };\n\n    var hide = function hide() {\n      currentOptions.value = null;\n      toggle(false); // TODO: 添加回掉参数\n\n      emit(\"hide\");\n    };\n\n    var references = reactive(new Map());\n    var currentReference = ref();\n    var currentReferenceOptions = computed(function () {\n      return currentReference.value && references.get(currentReference.value);\n    });\n\n    var addReference = function addReference(el, options) {\n      var triggers = function () {\n        if (options !== null && options !== void 0 && options.trigger) {\n          return Array.isArray(options.trigger) ? options.trigger : [options.trigger];\n        }\n\n        return DEFAULT_REFERENCE_OPTIONS.trigger;\n      }();\n\n      var handler = function handler(evt) {\n        if (props.disabled) return;\n        currentReference.value = el;\n        show(evt, {});\n      };\n\n      triggers.forEach(function (eventType) {\n        el.addEventListener(eventType, handler);\n      });\n      references.set(el, {\n        triggers: triggers,\n        handler: handler\n      });\n    };\n\n    var removeReference = function removeReference(el) {\n      var options = references.get(el);\n      if (!options) return;\n      options.triggers.forEach(function (eventType) {\n        el.removeEventListener(eventType, options.handler);\n      });\n      references.delete(el);\n    };\n\n    var onBodyClick = function onBodyClick(evt) {\n      if (!evt.target || !contextmenuRef.value || !currentReference.value) return;\n      var notOutside = contextmenuRef.value.contains(evt.target) || currentReferenceOptions.value && currentReferenceOptions.value.triggers.includes(\"click\") && currentReference.value.contains(evt.target);\n\n      if (!notOutside) {\n        toggle(false);\n      }\n    }; // watch(props.modelValue, (value) => {\n    //   if (value !== visible.value) {\n    //     toggle(value);\n    //   }\n    // });\n\n\n    watch(visible, function (value) {\n      if (value) {\n        document.addEventListener(\"click\", onBodyClick);\n      } else {\n        document.removeEventListener(\"click\", onBodyClick);\n      }\n    });\n    onBeforeUnmount(function () {\n      document.removeEventListener(\"click\", onBodyClick);\n    });\n    provide(\"visible\", visible);\n    provide(\"autoAjustPlacement\", props.autoAjustPlacement);\n    provide(\"show\", show);\n    provide(\"hide\", hide);\n    return {\n      visible: visible,\n      style: style,\n      currentReferenceOptions: currentReferenceOptions,\n      currentOptions: currentOptions,\n      contextmenuRef: contextmenuRef,\n      addReference: addReference,\n      removeReference: removeReference,\n      toggle: toggle,\n      show: show,\n      hide: hide\n    };\n  },\n  methods: {\n    renderContent: function renderContent() {\n      var _this$$slots$default, _this$$slots;\n\n      return withDirectives(createVNode(\"div\", {\n        \"class\": CLASSES.contextmenu,\n        \"ref\": \"contextmenuRef\",\n        \"style\": this.style\n      }, [createVNode(\"ul\", {\n        \"class\": CLASSES.contextmenuInner\n      }, [(_this$$slots$default = (_this$$slots = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots, {\n        triggerOptions: \"currentReferenceOptions\",\n        options: \"currentOptions\"\n      })])]), [[vShow, \"visible\"]]);\n    }\n  },\n  render: function render() {\n    var _slot;\n\n    if (!this.visible) return null;\n    return this.teleport ? createVNode(Teleport, {\n      \"to\": this.teleport\n    }, _isSlot(_slot = this.renderContent()) ? _slot : {\n      default: function _default() {\n        return [_slot];\n      }\n    }) : this.renderContent();\n  }\n});\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar ContextmenuItem = defineComponent({\n  name: \"VContextmenuItem\",\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    hideOnClick: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"click\", \"mouseenter\", \"mouseleave\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var rootHide = inject(\"hide\");\n    var hover = ref(false);\n    var classes = computed(function () {\n      var _ref2;\n\n      return _ref2 = {}, _defineProperty(_ref2, CLASSES.contextmenuItem, true), _defineProperty(_ref2, CLASSES.contextmenuItemDisabled, props.disabled), _defineProperty(_ref2, CLASSES.contextmenuItemHover, hover.value), _ref2;\n    });\n\n    var handleClick = function handleClick(evt) {\n      if (props.disabled) return;\n      emit(\"click\", evt);\n      props.hideOnClick && (rootHide === null || rootHide === void 0 ? void 0 : rootHide());\n    };\n\n    var handleMouseenter = function handleMouseenter(evt) {\n      if (props.disabled) return;\n      hover.value = true;\n      emit(\"mouseenter\", evt);\n    };\n\n    var handleMouseleave = function handleMouseleave(evt) {\n      if (props.disabled) return;\n      hover.value = false;\n      emit(\"mouseleave\", evt);\n    };\n\n    return {\n      classes: classes,\n      handleClick: handleClick,\n      handleMouseenter: handleMouseenter,\n      handleMouseleave: handleMouseleave\n    };\n  },\n  render: function render() {\n    var _this$$slots$default, _this$$slots;\n\n    return createVNode(\"li\", {\n      \"class\": this.classes,\n      \"onClick\": this.handleClick,\n      \"onMouseenter\": this.handleMouseenter,\n      \"onMouseleave\": this.handleMouseleave\n    }, [(_this$$slots$default = (_this$$slots = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots)]);\n  }\n});\n\nvar ContextmenuDivider = defineComponent({\n  name: \"VContextmenuDivider\",\n  render: function render() {\n    return createVNode(\"li\", {\n      \"class\": CLASSES.contextmenuDivider\n    }, null);\n  }\n});\n\nvar ContextmenuIcon = defineComponent({\n  name: \"VContextmenuIcon\",\n  props: {\n    name: {\n      type: String,\n      required: true\n    }\n  },\n  render: function render() {\n    return createVNode(\"i\", {\n      \"class\": [CLASSES.contextmenuIcon, \"\".concat(CLASSES.contextmenuIcon, \"-\").concat(this.name)]\n    }, null);\n  }\n});\n\nvar ContextmenuSubmenu = defineComponent({\n  name: \"VContextmenuSubmenu\",\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"mouseenter\", \"mouseleave\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var submenuRef = ref(null);\n    var autoAjustPlacement = inject(\"autoAjustPlacement\");\n    var placements = ref([\"top\", \"right\"]);\n    var hover = ref(false);\n\n    var handleMouseenter = function handleMouseenter(evt) {\n      if (props.disabled) return;\n      hover.value = true;\n      emit(\"mouseenter\", evt);\n      nextTick(function () {\n        var targetPlacements = [];\n\n        if (autoAjustPlacement) {\n          var target = evt.target;\n          var targetDimension = target.getBoundingClientRect();\n          if (!submenuRef.value) return;\n          var submenuWidth = submenuRef.value.clientWidth;\n          var submenuHeight = submenuRef.value.clientHeight;\n\n          if (targetDimension.right + submenuWidth >= window.innerWidth) {\n            targetPlacements.push(\"left\");\n          } else {\n            targetPlacements.push(\"right\");\n          }\n\n          if (targetDimension.bottom + submenuHeight >= window.innerHeight) {\n            targetPlacements.push(\"bottom\");\n          } else {\n            targetPlacements.push(\"top\");\n          }\n        }\n\n        placements.value = targetPlacements;\n      });\n    };\n\n    var handleMouseleave = function handleMouseleave(evt) {\n      if (props.disabled) return;\n      hover.value = false;\n      emit(\"mouseleave\", evt);\n    };\n\n    var titleClasses = computed(function () {\n      var _ref2;\n\n      return _ref2 = {}, _defineProperty(_ref2, CLASSES.contextmenuItem, true), _defineProperty(_ref2, CLASSES.contextmenuSubmenuTitle, true), _defineProperty(_ref2, CLASSES.contextmenuItemHover, hover.value), _defineProperty(_ref2, CLASSES.contextmenuItemDisabled, props.disabled), _ref2;\n    });\n    var menusClasses = computed(function () {\n      var _ref3;\n\n      return _ref3 = {}, _defineProperty(_ref3, CLASSES.contextmenu, true), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenus, true), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusTop, placements.value.includes(\"top\")), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusRight, placements.value.includes(\"right\")), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusBottom, placements.value.includes(\"bottom\")), _defineProperty(_ref3, CLASSES.contextmenuSubmenuMenusLeft, placements.value.includes(\"left\")), _ref3;\n    });\n    return {\n      hover: hover,\n      submenuRef: submenuRef,\n      titleClasses: titleClasses,\n      menusClasses: menusClasses,\n      handleMouseenter: handleMouseenter,\n      handleMouseleave: handleMouseleave\n    };\n  },\n  render: function render() {\n    var _this$$slots$title, _this$$slots, _this$$slots$default, _this$$slots2;\n\n    return createVNode(\"li\", {\n      \"class\": CLASSES.contextmenuSubmenu,\n      \"onMouseenter\": this.handleMouseenter,\n      \"onMouseleave\": this.handleMouseleave\n    }, [createVNode(\"div\", {\n      \"class\": this.titleClasses\n    }, [((_this$$slots$title = (_this$$slots = this.$slots).title) === null || _this$$slots$title === void 0 ? void 0 : _this$$slots$title.call(_this$$slots)) || this.title, createVNode(\"span\", {\n      \"class\": CLASSES.contextmenuSubmenuArrow\n    }, [createVNode(ContextmenuIcon, {\n      \"name\": \"right-arrow\"\n    }, null)])]), this.hover ? createVNode(\"div\", {\n      \"ref\": \"submenuRef\",\n      \"class\": this.menusClasses\n    }, [createVNode(\"ul\", {\n      \"class\": CLASSES.contextmenuInner\n    }, [(_this$$slots$default = (_this$$slots2 = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots2)])]) : null]);\n  }\n});\n\nvar ContextmenuGroup = defineComponent({\n  name: \"VContextmenuGroup\",\n  props: {\n    title: {\n      type: String,\n      default: undefined\n    },\n    maxWidth: {\n      type: [Number, String],\n      default: undefined\n    }\n  },\n  setup: function setup(props) {\n    var style = computed(function () {\n      if (!props.maxWidth) return;\n      return {\n        \"max-width\": typeof props.maxWidth === \"number\" ? \"\".concat(props.maxWidth, \"px\") : props.maxWidth,\n        \"overflow-x\": \"auto\"\n      };\n    });\n    return {\n      style: style\n    };\n  },\n  methods: {\n    renderTitle: function renderTitle() {\n      var _this$$slots$title, _this$$slots;\n\n      var content = ((_this$$slots$title = (_this$$slots = this.$slots).title) === null || _this$$slots$title === void 0 ? void 0 : _this$$slots$title.call(_this$$slots)) || this.title;\n      return content ? createVNode(\"div\", {\n        \"class\": CLASSES.contextmenuGroupTitle\n      }, [content]) : null;\n    }\n  },\n  render: function render() {\n    var _this$$slots$default, _this$$slots2;\n\n    return createVNode(\"li\", {\n      \"class\": CLASSES.contextmenuGroup\n    }, [this.renderTitle(), createVNode(\"ul\", {\n      \"style\": this.style,\n      \"class\": CLASSES.contextmenuGroupMenus\n    }, [(_this$$slots$default = (_this$$slots2 = this.$slots).default) === null || _this$$slots$default === void 0 ? void 0 : _this$$slots$default.call(_this$$slots2)])]);\n  }\n});\n\nvar version = \"3.0.0\";\n\nvar install = function install(app) {\n  app.directive(\"contextmenu\", contextmenuDirective);\n  app.component(Contextmenu.name, Contextmenu);\n  app.component(ContextmenuItem.name, ContextmenuItem);\n  app.component(ContextmenuDivider.name, ContextmenuDivider);\n  app.component(ContextmenuSubmenu.name, ContextmenuSubmenu);\n  app.component(ContextmenuGroup.name, ContextmenuGroup);\n};\nvar VContextmenu = {\n  install: install,\n  version: version\n};\n\nexport default VContextmenu;\nexport { Contextmenu, ContextmenuDivider, ContextmenuGroup, ContextmenuItem, ContextmenuSubmenu, contextmenuDirective as directive, install, version };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}